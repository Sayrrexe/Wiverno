{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Wiverno","text":"<p>Wiverno is a lightweight WSGI framework for building fast and flexible Python web applications.</p>"},{"location":"#why-wiverno","title":"Why Wiverno?","text":"<ul> <li>\ud83d\ude80 Fast: Built on WSGI with minimal overhead</li> <li>\ud83c\udfaf Simple: Clean and intuitive API</li> <li>\ud83d\udce6 Lightweight: Minimal dependencies, maximum performance</li> <li>\ud83d\udd27 Flexible: Easy to extend and customize</li> <li>\ud83d\udc0d Modern Python: Built for Python 3.12+</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Simple routing system - Define routes with decorators</li> <li>Request/Response handling - Clean abstractions for HTTP requests</li> <li>Template engine integration - Built-in Jinja2 support via Templator</li> <li>Class-based views - BaseView for better code organization</li> <li>Development server - Hot-reload during development</li> <li>CLI tools - Command-line interface for common tasks</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>from wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef index(request):\n    return \"200 OK\", \"Hello, World!\"\n</code></pre> <p>Save this as <code>run.py</code> and run:</p> <pre><code>wiverno run dev\n</code></pre> <p>Visit http://localhost:8000 to see your app in action!</p>"},{"location":"#getting-started","title":"Getting Started","text":"<ul> <li> Quick Start</li> </ul> <p>Get up and running in minutes with our quick start guide.</p> <p> Quickstart</p> <ul> <li> User Guide</li> </ul> <p>Learn the core concepts and features of Wiverno.</p> <p> Read the Guide</p> <ul> <li> API Reference</li> </ul> <p>Detailed documentation of all classes and functions.</p> <p> API Docs</p> <ul> <li> Contributing</li> </ul> <p>Want to contribute? Check out our development guide.</p> <p> Development</p>"},{"location":"#installation","title":"Installation","text":"<p>Install Wiverno using pip:</p> <pre><code>pip install wiverno\n</code></pre> <p>Or install from source:</p> <pre><code>git clone https://github.com/Sayrrexe/Wiverno.git\ncd Wiverno\npip install .\n</code></pre> <p>For development:</p> <pre><code>pip install -e \".[dev]\"\n</code></pre>"},{"location":"#community","title":"Community","text":"<ul> <li>GitHub: github.com/Sayrrexe/Wiverno</li> <li>Issues: Report bugs or request features</li> <li>Pull Requests: Contributions welcome!</li> </ul>"},{"location":"#license","title":"License","text":"<p>Wiverno is licensed under the MIT License.</p>"},{"location":"api/","title":"API Reference","text":"<p>Welcome to the Wiverno API Reference documentation. This section provides detailed information about all classes, functions, and modules in the Wiverno framework.</p>"},{"location":"api/#overview","title":"Overview","text":"<p>The Wiverno API is organized into several key modules:</p>"},{"location":"api/#core-modules","title":"Core Modules","text":"<p>These are the fundamental building blocks of Wiverno:</p> <ul> <li>Application - The main Wiverno WSGI application class</li> <li>Requests - HTTP request parsing and handling</li> <li>Router - Modular routing and URL path matching</li> <li>Server - WSGI server wrapper for development and testing</li> </ul>"},{"location":"api/#templating","title":"Templating","text":"<p>Template rendering functionality:</p> <ul> <li>Templator - Jinja2 template rendering wrapper</li> </ul>"},{"location":"api/#views","title":"Views","text":"<p>View classes for organizing your code:</p> <ul> <li>Base Views - Class-based view foundation with HTTP method dispatch</li> </ul>"},{"location":"api/#cli","title":"CLI","text":"<p>Command-line interface tools:</p> <ul> <li>CLI - Command-line commands for running servers and documentation</li> </ul>"},{"location":"api/#quick-reference","title":"Quick Reference","text":""},{"location":"api/#common-imports","title":"Common Imports","text":"<pre><code># Main application\nfrom wiverno.main import Wiverno\n\n# Server\nfrom wiverno.core.server import RunServer\n\n# Request handling\nfrom wiverno.core.requests import Request\n\n# Routing\nfrom wiverno.core.routing.router import Router\n\n# Templates\nfrom wiverno.templating.templator import Templator\n\n# Views\nfrom wiverno.views.base_views import BaseView\n\n# Development server\nfrom wiverno.dev.dev_server import DevServer\n</code></pre>"},{"location":"api/#api-stability","title":"API Stability","text":"<p>Wiverno follows Semantic Versioning:</p> <ul> <li>Major version (X.0.0) - Breaking API changes</li> <li>Minor version (0.X.0) - New features, backward compatible</li> <li>Patch version (0.0.X) - Bug fixes, backward compatible</li> </ul>"},{"location":"api/#stability-indicators","title":"Stability Indicators","text":"<ul> <li>\u2705 Stable - Safe to use in production</li> <li>\u26a0\ufe0f Beta - API may change in minor versions</li> <li>\ud83d\udea7 Experimental - API may change at any time</li> </ul>"},{"location":"api/#type-hints","title":"Type Hints","text":"<p>Wiverno uses Python type hints throughout the codebase. All public APIs have complete type annotations for better IDE support and type checking.</p> <pre><code>from wiverno.main import Wiverno\nfrom wiverno.core.requests import Request\n\ndef my_view(request: Request) -&gt; tuple[str, str]:\n    \"\"\"Type-annotated view function.\"\"\"\n    return \"200 OK\", \"Hello!\"\n\napp: Wiverno = Wiverno()\napp.get(\"/\")(my_view)\n</code></pre>"},{"location":"api/#documentation-conventions","title":"Documentation Conventions","text":""},{"location":"api/#function-signatures","title":"Function Signatures","text":"<pre><code>def function_name(\n    param1: Type1,\n    param2: Type2 = default_value,\n    *args: Type3,\n    **kwargs: Type4\n) -&gt; ReturnType:\n    \"\"\"Brief description.\n\n    Detailed description of what the function does.\n\n    Args:\n        param1: Description of param1\n        param2: Description of param2\n        *args: Description of args\n        **kwargs: Description of kwargs\n\n    Returns:\n        Description of return value\n\n    Raises:\n        ExceptionType: When this exception is raised\n\n    Example:\n        &gt;&gt;&gt; function_name(value1, value2)\n        result\n    \"\"\"\n</code></pre>"},{"location":"api/#class-documentation","title":"Class Documentation","text":"<pre><code>class ClassName:\n    \"\"\"Brief description.\n\n    Detailed description of what the class does.\n\n    Attributes:\n        attr1: Description of attr1\n        attr2: Description of attr2\n\n    Example:\n        &gt;&gt;&gt; obj = ClassName()\n        &gt;&gt;&gt; obj.method()\n        result\n    \"\"\"\n</code></pre>"},{"location":"api/#next-steps","title":"Next Steps","text":"<p>Browse the detailed API documentation for each module:</p> <ul> <li>Start with Application to understand the main Wiverno class</li> <li>Learn about Request Handling to work with HTTP requests</li> <li>Explore Routing for URL pattern matching</li> <li>Check out Base Views for class-based views</li> </ul>"},{"location":"api/cli/","title":"CLI Reference","text":"<p>The Wiverno CLI provides command-line tools for running and managing Wiverno applications.</p>"},{"location":"api/cli/#module-wivernocli","title":"Module: <code>wiverno.cli</code>","text":""},{"location":"api/cli/#overview","title":"Overview","text":"<p>The CLI is built with Typer and provides commands for:</p> <ul> <li>Running development servers with hot reload</li> <li>Running production servers</li> <li>Serving documentation</li> <li>Getting help and usage information</li> </ul>"},{"location":"api/cli/#installation","title":"Installation","text":"<p>The CLI is automatically installed when you install Wiverno:</p> <pre><code>pip install wiverno\n</code></pre>"},{"location":"api/cli/#global-options","title":"Global Options","text":"<p>All commands support <code>--help</code> to show detailed help:</p> <pre><code>wiverno --help\nwiverno run --help\nwiverno run dev --help\n</code></pre>"},{"location":"api/cli/#commands","title":"Commands","text":""},{"location":"api/cli/#wiverno-run-dev","title":"<code>wiverno run dev</code>","text":"<p>Start a development server with automatic hot reload.</p> <p>Usage:</p> <pre><code>wiverno run dev [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--host, -h TEXT</code> - Server host address</li> <li>Default: <code>localhost</code></li> <li> <p>Example: <code>--host 0.0.0.0</code> to listen on all interfaces</p> </li> <li> <p><code>--port, -p INTEGER</code> - Server port number</p> </li> <li>Default: <code>8000</code></li> <li> <p>Example: <code>--port 3000</code> to use port 3000</p> </li> <li> <p><code>--app-module, -m TEXT</code> - Module containing the WSGI application</p> </li> <li>Default: <code>run</code></li> <li>Example: <code>--app-module app</code> to load from <code>app.py</code></li> <li> <p>Example: <code>--app-module myapp.wsgi</code> to load from <code>myapp/wsgi.py</code></p> </li> <li> <p><code>--app-name, -a TEXT</code> - Name of the application variable in the module</p> </li> <li>Default: <code>app</code></li> <li> <p>Example: <code>--app-name application</code> to use variable <code>application</code></p> </li> <li> <p><code>--watch, -w TEXT</code> - Comma-separated list of directories to watch</p> </li> <li>Default: Current directory</li> <li>Example: <code>--watch src,templates</code> to watch specific directories</li> </ul> <p>Examples:</p> <pre><code># Start development server with defaults\nwiverno run dev\n\n# Use custom port\nwiverno run dev --port 3000\n\n# Listen on all network interfaces\nwiverno run dev --host 0.0.0.0\n\n# Custom app location\nwiverno run dev --app-module myapp --app-name application\n\n# Watch specific directories\nwiverno run dev --watch src,templates\n</code></pre> <p>Features:</p> <ul> <li>Automatic restart on file changes (Python, HTML, CSS, JS)</li> <li>Live reload enabled</li> <li>Detailed error messages with tracebacks</li> <li>Graceful shutdown with Ctrl+C</li> </ul>"},{"location":"api/cli/#wiverno-run-prod","title":"<code>wiverno run prod</code>","text":"<p>Start a production server without automatic restarts.</p> <p>Usage:</p> <pre><code>wiverno run prod [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--host, -h TEXT</code> - Server host address</li> <li>Default: <code>localhost</code></li> <li> <p>Example: <code>--host 0.0.0.0</code></p> </li> <li> <p><code>--port, -p INTEGER</code> - Server port number</p> </li> <li>Default: <code>8000</code></li> <li> <p>Example: <code>--port 8080</code></p> </li> <li> <p><code>--app-module, -m TEXT</code> - Module containing the WSGI application</p> </li> <li> <p>Default: <code>run</code></p> </li> <li> <p><code>--app-name, -a TEXT</code> - Name of the application variable in the module</p> </li> <li>Default: <code>app</code></li> </ul> <p>Examples:</p> <pre><code># Start production server with defaults\nwiverno run prod\n\n# Use custom host and port\nwiverno run prod --host 0.0.0.0 --port 8080\n\n# Custom app location\nwiverno run prod --app-module myapp --app-name application\n</code></pre> <p>Notes:</p> <ul> <li>No automatic restarts on file changes</li> <li>No file watching</li> <li>Suitable for deployment environments</li> <li>For better production setup, use external WSGI servers (Gunicorn, uWSGI, Waitress)</li> </ul>"},{"location":"api/cli/#wiverno-docs","title":"<code>wiverno docs</code>","text":"<p>Serve project documentation using MkDocs with live reload.</p> <p>Usage:</p> <pre><code>wiverno docs [OPTIONS]\n</code></pre> <p>Options:</p> <ul> <li><code>--host, -h TEXT</code> - Documentation server host</li> <li> <p>Default: <code>127.0.0.1</code></p> </li> <li> <p><code>--port, -p INTEGER</code> - Documentation server port</p> </li> <li> <p>Default: <code>8000</code></p> </li> <li> <p><code>--open/--no-open</code> - Open browser automatically</p> </li> <li>Default: <code>--open</code></li> <li>Use <code>--no-open</code> to prevent automatic browser opening</li> </ul> <p>Examples:</p> <pre><code># Serve docs at default address\nwiverno docs\n\n# Use custom port\nwiverno docs --port 8001\n\n# Don't open browser automatically\nwiverno docs --no-open\n\n# Listen on all interfaces\nwiverno docs --host 0.0.0.0\n</code></pre> <p>Requirements:</p> <ul> <li><code>mkdocs.yml</code> file in project root</li> <li>MkDocs installed: <code>pip install mkdocs-material mkdocstrings[python]</code></li> </ul> <p>Features:</p> <ul> <li>Live reload on documentation changes</li> <li>Automatic browser opening</li> <li>Built on MkDocs with Material theme</li> </ul>"},{"location":"api/cli/#wiverno-start","title":"<code>wiverno start</code>","text":"<p>Quick start command (placeholder for future features).</p> <p>Usage:</p> <pre><code>wiverno start\n</code></pre> <p>Status: Currently a placeholder. Future versions will include: - Project scaffolding - Template generation - Configuration wizard</p>"},{"location":"api/cli/#wiverno-help","title":"<code>wiverno help</code>","text":"<p>Show comprehensive help with available commands and examples.</p> <p>Usage:</p> <pre><code>wiverno help\n</code></pre> <p>Displays: - Overview of Wiverno - List of available commands - Usage examples for common tasks - Documentation links</p>"},{"location":"api/cli/#common-workflows","title":"Common Workflows","text":""},{"location":"api/cli/#basic-development-setup","title":"Basic Development Setup","text":"<ol> <li>Create your application file <code>run.py</code>:</li> </ol> <pre><code>from wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef home(request):\n    return \"200 OK\", \"Hello, World!\"\n</code></pre> <ol> <li>Start development server:</li> </ol> <pre><code>wiverno run dev\n</code></pre> <ol> <li>Visit http://localhost:8000</li> </ol>"},{"location":"api/cli/#custom-project-structure","title":"Custom Project Structure","text":"<p>For a project with custom structure:</p> <ol> <li>Application in <code>myapp/wsgi.py</code>:</li> </ol> <pre><code>from wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef home(request):\n    return \"200 OK\", \"Hello\"\n</code></pre> <ol> <li>Run with custom module path:</li> </ol> <pre><code>wiverno run dev --app-module myapp.wsgi\n</code></pre>"},{"location":"api/cli/#multiple-directories","title":"Multiple Directories","text":"<p>To watch multiple directories for changes:</p> <pre><code>wiverno run dev --watch src,templates,static\n</code></pre>"},{"location":"api/cli/#production-deployment","title":"Production Deployment","text":"<p>For production, use external WSGI servers:</p> <pre><code># Create production app file\ncat &gt; production.py &lt;&lt; 'EOF'\nfrom app import app\nEOF\n\n# Run with Gunicorn\ngunicorn production:app --bind 0.0.0.0:8000\n</code></pre> <p>Or use the prod command for testing:</p> <pre><code>wiverno run prod --host 0.0.0.0 --port 8000\n</code></pre>"},{"location":"api/cli/#environment-variables","title":"Environment Variables","text":"<p>The CLI respects common environment variables:</p> <pre><code># Set Python path\nexport PYTHONPATH=/path/to/project\n\n# Run with custom Python path\nwiverno run dev\n</code></pre>"},{"location":"api/cli/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Error (missing module, configuration error, etc.)</li> </ul>"},{"location":"api/cli/#troubleshooting","title":"Troubleshooting","text":""},{"location":"api/cli/#module-not-found","title":"Module Not Found","text":"<p>Error: <code>ERROR: Module 'app.py' not found in current directory</code></p> <p>Solution: - Make sure you're in the project root directory - Check the module name with <code>-m</code> option - Use <code>--app-module</code> to specify correct path</p>"},{"location":"api/cli/#application-variable-not-found","title":"Application Variable Not Found","text":"<p>Error: <code>ERROR: Application 'app' not found in module 'run'</code></p> <p>Solution: - Ensure your module has the application variable - Use <code>--app-name</code> to specify the correct variable name - Example: <code>wiverno run dev --app-name application</code></p>"},{"location":"api/cli/#mkdocs-not-installed","title":"MkDocs Not Installed","text":"<p>Error: <code>ERROR: MkDocs is not installed</code></p> <p>Solution: <pre><code>pip install mkdocs-material mkdocstrings[python]\n</code></pre></p> <p>Or install all dev dependencies: <pre><code>uv pip install -e .[dev]\n</code></pre></p>"},{"location":"api/cli/#port-already-in-use","title":"Port Already in Use","text":"<p>Error: <code>Address already in use</code></p> <p>Solution: - Use a different port: <code>wiverno run dev --port 3000</code> - Kill process using the port - Wait and retry</p>"},{"location":"api/cli/#see-also","title":"See Also","text":"<ul> <li>Application - Wiverno application class</li> <li>Server - RunServer class</li> <li>Workflow - Development workflow</li> </ul>"},{"location":"api/core/application/","title":"Application","text":"<p>The <code>Wiverno</code> class is the main entry point for creating web applications with Wiverno.</p>"},{"location":"api/core/application/#module-wivernomain","title":"Module: <code>wiverno.main</code>","text":"<p>options: show_root_heading: true show_source: true heading_level: 2</p>"},{"location":"api/core/application/#wiverno.main.Wiverno","title":"Wiverno","text":"<pre><code>Wiverno(\n    debug_mode: bool = True,\n    system_template_path: str = str(DEFAULT_TEMPLATE_PATH),\n    page_404: Callable[\n        [Request], tuple[str, str]\n    ] = PageNotFound404(),\n    page_405: Callable[\n        [Request], tuple[str, str]\n    ] = MethodNotAllowed405(),\n    page_500: Callable[\n        [Request, str | None], tuple[str, str]\n    ] = InternalServerError500(),\n)\n</code></pre> <p>               Bases: <code>RouterMixin</code></p> <p>A simple WSGI-compatible web framework.</p> <p>Initializes the Wiverno application with a list of routes.</p> <p>Parameters:</p> Name Type Description Default <code>debug_mode</code> <code>bool</code> <p>Enable or disable debug mode (default is True).</p> <code>True</code> <code>system_template_path</code> <code>str</code> <p>Path to base templates used for error pages.</p> <code>str(DEFAULT_TEMPLATE_PATH)</code> <code>page_404</code> <code>Callable[[Request], tuple[str, str]]</code> <p>Callable to handle 404 errors (optional).</p> <code>PageNotFound404()</code> <code>page_405</code> <code>Callable[[Request], tuple[str, str]]</code> <p>Callable to handle 405 errors (optional).</p> <code>MethodNotAllowed405()</code> <code>page_500</code> <code>Callable[[Request, str | None], tuple[str, str]]</code> <p>Callable to handle 500 errors (optional).</p> <code>InternalServerError500()</code> Source code in <code>wiverno\\main.py</code> <pre><code>def __init__(\n    self,\n    debug_mode: bool = True,\n    system_template_path: str = str(WivernoConfig.DEFAULT_TEMPLATE_PATH),\n    page_404: Callable[[Request], tuple[str, str]] = PageNotFound404(),\n    page_405: Callable[[Request], tuple[str, str]] = MethodNotAllowed405(),\n    page_500: Callable[[Request, str | None], tuple[str, str]] = InternalServerError500(),\n) -&gt; None:\n    \"\"\"\n    Initializes the Wiverno application with a list of routes.\n\n    Args:\n        debug_mode: Enable or disable debug mode (default is True).\n        system_template_path: Path to base templates used for error pages.\n        page_404: Callable to handle 404 errors (optional).\n        page_405: Callable to handle 405 errors (optional).\n        page_500: Callable to handle 500 errors (optional).\n    \"\"\"\n    self.__registry = RouterRegistry()\n\n    self.system_templator = Templator(folder=system_template_path)\n    self.debug = debug_mode\n    self.page_404 = page_404\n    self.page_405 = page_405\n    self.page_500 = page_500\n</code></pre>"},{"location":"api/core/application/#wiverno.main.Wiverno-functions","title":"Functions","text":""},{"location":"api/core/application/#wiverno.main.Wiverno.include_router","title":"include_router","text":"<pre><code>include_router(router: Router, prefix: str = '') -&gt; None\n</code></pre> <p>Include routes from a Router instance into this application.</p> <p>Parameters:</p> Name Type Description Default <code>router</code> <code>Router</code> <p>The Router instance whose routes should be included.</p> required <code>prefix</code> <code>str</code> <p>Optional path prefix to prepend to all routes from the router.    For example, prefix=\"/api\" will make router routes accessible    under /api/... paths.</p> <code>''</code> Source code in <code>wiverno\\main.py</code> <pre><code>def include_router(self, router: Router, prefix: str = \"\") -&gt; None:\n    \"\"\"\n    Include routes from a Router instance into this application.\n\n    Args:\n        router: The Router instance whose routes should be included.\n        prefix: Optional path prefix to prepend to all routes from the router.\n               For example, prefix=\"/api\" will make router routes accessible\n               under /api/... paths.\n    \"\"\"\n    self.__registry.merge_from(router.registry, prefix)\n</code></pre>"},{"location":"api/core/application/#overview","title":"Overview","text":"<p>The <code>Wiverno</code> class initializes your application with routes and handles the WSGI interface. It's responsible for:</p> <ul> <li>Route registration and management</li> <li>Request routing to appropriate handlers</li> <li>Response generation</li> <li>Error handling</li> </ul>"},{"location":"api/core/application/#basic-usage","title":"Basic Usage","text":"<pre><code>from wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef index(request):\n    return \"200 OK\", \"Hello, World!\"\n</code></pre>"},{"location":"api/core/application/#constructor-parameters","title":"Constructor Parameters","text":""},{"location":"api/core/application/#debug_mode","title":"debug_mode","text":"<p>Type: <code>bool</code> Default: <code>True</code></p> <p>Enable or disable debug mode. In debug mode, exception tracebacks are passed to the 500 error handler for display.</p> <pre><code>app = Wiverno(debug_mode=False)  # Production mode\n</code></pre>"},{"location":"api/core/application/#system_template_path","title":"system_template_path","text":"<p>Type: <code>str</code> Default: Built-in system templates path</p> <p>Path to the directory containing system error templates (404, 405, 500). This is typically set to the internal <code>wiverno/static/templates</code> directory.</p> <pre><code>app = Wiverno(system_template_path=\"/custom/error/templates\")\n</code></pre>"},{"location":"api/core/application/#page_404","title":"page_404","text":"<p>Type: <code>Callable[[Request], tuple[str, str]]</code> Default: <code>PageNotFound404()</code></p> <p>Custom error handler for 404 Not Found errors. The handler receives a <code>Request</code> object and must return a tuple of <code>(status_string, html_body)</code>.</p> <pre><code>def custom_404(request):\n    return \"404 NOT FOUND\", \"&lt;html&gt;&lt;body&gt;Page not found&lt;/body&gt;&lt;/html&gt;\"\n\napp = Wiverno(page_404=custom_404)\n</code></pre>"},{"location":"api/core/application/#page_405","title":"page_405","text":"<p>Type: <code>Callable[[Request], tuple[str, str]]</code> Default: <code>MethodNotAllowed405()</code></p> <p>Custom error handler for 405 Method Not Allowed errors. Receives a <code>Request</code> object.</p> <pre><code>def custom_405(request):\n    return \"405 METHOD NOT ALLOWED\", \"&lt;html&gt;&lt;body&gt;Method not allowed&lt;/body&gt;&lt;/html&gt;\"\n\napp = Wiverno(page_405=custom_405)\n</code></pre>"},{"location":"api/core/application/#page_500","title":"page_500","text":"<p>Type: <code>Callable[[Request, str | None], tuple[str, str]]</code> Default: <code>InternalServerError500()</code></p> <p>Custom error handler for 500 Internal Server Error. Receives a <code>Request</code> object and an optional <code>error_traceback</code> string (only in debug mode).</p> <pre><code>def custom_500(request, error_traceback=None):\n    return \"500 INTERNAL SERVER ERROR\", \"&lt;html&gt;&lt;body&gt;Server error&lt;/body&gt;&lt;/html&gt;\"\n\napp = Wiverno(page_500=custom_500)\n</code></pre>"},{"location":"api/core/application/#routing-methods","title":"Routing Methods","text":"<p>The <code>Wiverno</code> class provides decorator methods for all HTTP methods:</p>"},{"location":"api/core/application/#approutepath-methodsnone","title":"<code>@app.route(path, methods=None)</code>","text":"<p>Generic route decorator. Register a route with specific HTTP methods or all methods if <code>methods=None</code>.</p> <pre><code>@app.route(\"/api/data\", methods=[\"GET\", \"POST\"])\ndef handle_data(request):\n    return \"200 OK\", \"Data\"\n</code></pre>"},{"location":"api/core/application/#appgetpath-apppostpath-appputpath-apppatchpath-appdeletepath","title":"<code>@app.get(path)</code>, <code>@app.post(path)</code>, <code>@app.put(path)</code>, <code>@app.patch(path)</code>, <code>@app.delete(path)</code>","text":"<p>HTTP method-specific decorators. Available for GET, POST, PUT, PATCH, DELETE.</p> <pre><code>@app.get(\"/users\")\ndef list_users(request):\n    return \"200 OK\", \"Users list\"\n\n@app.post(\"/users\")\ndef create_user(request):\n    return \"201 CREATED\", \"User created\"\n</code></pre>"},{"location":"api/core/application/#appconnectpath-appheadpath-appoptionspath-apptracepath","title":"<code>@app.connect(path)</code>, <code>@app.head(path)</code>, <code>@app.options(path)</code>, <code>@app.trace(path)</code>","text":"<p>Additional HTTP method decorators for CONNECT, HEAD, OPTIONS, and TRACE methods.</p>"},{"location":"api/core/application/#appinclude_routerrouter-prefix","title":"<code>app.include_router(router, prefix=\"\")</code>","text":"<p>Include routes from a <code>Router</code> instance with an optional URL prefix.</p> <p>Parameters:</p> <ul> <li><code>router</code> (Router): Router instance containing routes to include</li> <li><code>prefix</code> (str, optional): URL prefix to prepend to all router paths</li> </ul> <p>Example:</p> <pre><code>from wiverno.core.routing.router import Router\n\napi_router = Router()\n\n@api_router.get(\"/users\")\ndef api_users(request):\n    return \"200 OK\", \"API Users\"\n\napp.include_router(api_router, prefix=\"/api\")\n# Routes become /api/users\n</code></pre>"},{"location":"api/core/application/#methods","title":"Methods","text":""},{"location":"api/core/application/#__call__environ-start_response","title":"<code>__call__(environ, start_response)</code>","text":"<p>The WSGI application callable. This method is called by the WSGI server for each request.</p> <p>Parameters:</p> <ul> <li><code>environ</code> (dict): WSGI environment dictionary</li> <li><code>start_response</code> (Callable): WSGI start_response callable</li> </ul> <p>Returns: Iterator of bytes representing the response body</p> <p>Note: You typically don't call this method directly. It's used by the WSGI server.</p>"},{"location":"api/core/application/#attributes","title":"Attributes","text":""},{"location":"api/core/application/#debug","title":"<code>debug</code>","text":"<p>Type: <code>bool</code></p> <p>Debug mode flag. Set to <code>True</code> to enable debug mode (tracebacks shown in 500 errors), <code>False</code> for production.</p>"},{"location":"api/core/application/#system_templator","title":"<code>system_templator</code>","text":"<p>Type: <code>Templator</code></p> <p>The internal templator instance used to render system error templates (404, 405, 500).</p>"},{"location":"api/core/application/#page_404-page_405-page_500","title":"<code>page_404</code>, <code>page_405</code>, <code>page_500</code>","text":"<p>Type: <code>Callable</code></p> <p>The error handler callables for 404, 405, and 500 errors respectively.</p>"},{"location":"api/core/application/#examples","title":"Examples","text":""},{"location":"api/core/application/#basic-application","title":"Basic Application","text":"<pre><code>from wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef home(request):\n    return \"200 OK\", \"Welcome home!\"\n\n@app.get(\"/about\")\ndef about(request):\n    return \"200 OK\", \"About us\"\n</code></pre> <p>Run with:</p> <pre><code>wiverno run dev app:app\n</code></pre>"},{"location":"api/core/application/#with-templates","title":"With Templates","text":"<pre><code>from wiverno.main import Wiverno\nfrom wiverno.templating.templator import Templator\n\napp = Wiverno()\ntemplator = Templator()\n\n@app.get(\"/\")\ndef index(request):\n    html = templator.render(\"index.html\", {\n        \"title\": \"Home\",\n        \"message\": \"Welcome!\"\n    })\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/core/application/#with-class-based-views","title":"With Class-Based Views","text":"<pre><code>from wiverno.main import Wiverno\nfrom wiverno.views.base_views import BaseView\n\nclass APIView(BaseView):\n    def get(self, request):\n        return \"200 OK\", '{\"status\": \"ok\"}'\n\n    def post(self, request):\n        return \"201 Created\", '{\"created\": true}'\n\napp = Wiverno()\napp.route(\"/api\")(APIView())\n</code></pre>"},{"location":"api/core/application/#error-handling","title":"Error Handling","text":"<p>The application automatically handles common HTTP errors:</p> <ul> <li>404 Not Found - When no route matches</li> <li>405 Method Not Allowed - When route exists but method is not supported</li> <li>500 Internal Server Error - When an exception occurs in a view</li> </ul> <p>You can customize error handling by providing custom handler functions via the <code>page_404</code>, <code>page_405</code>, and <code>page_500</code> constructor parameters. Default error handlers use built-in templates from the framework.</p>"},{"location":"api/core/application/#wsgi-compatibility","title":"WSGI Compatibility","text":"<p>Wiverno applications are fully WSGI-compatible and can be deployed with any WSGI server:</p>"},{"location":"api/core/application/#gunicorn","title":"Gunicorn","text":"<pre><code>gunicorn app:app\n</code></pre>"},{"location":"api/core/application/#uwsgi","title":"uWSGI","text":"<pre><code>uwsgi --http :8000 --wsgi-file app.py --callable app\n</code></pre>"},{"location":"api/core/application/#waitress","title":"Waitress","text":"<pre><code>from waitress import serve\nserve(app, host='0.0.0.0', port=8000)\n</code></pre>"},{"location":"api/core/application/#see-also","title":"See Also","text":"<ul> <li>Router - URL routing and pattern matching</li> <li>Request - Request handling</li> <li>RunServer - Development server</li> </ul>"},{"location":"api/core/requests/","title":"Request Handling","text":"<p>The <code>Request</code> class represents an HTTP request parsed from the WSGI environment. It provides convenient access to all request data.</p>"},{"location":"api/core/requests/#module-wivernocorerequests","title":"Module: <code>wiverno.core.requests</code>","text":""},{"location":"api/core/requests/#request-class","title":"Request Class","text":"<pre><code>from wiverno.core.requests import Request\n\ndef my_view(request: Request) -&gt; tuple[str, str]:\n    # Access request properties\n    method = request.method  # 'GET', 'POST', etc.\n    path = request.path     # '/users'\n    return \"200 OK\", \"Hello\"\n</code></pre>"},{"location":"api/core/requests/#properties","title":"Properties","text":"<p>All properties are read-only and populated from the WSGI environment.</p>"},{"location":"api/core/requests/#http-method-and-path","title":"HTTP Method and Path","text":""},{"location":"api/core/requests/#method-str","title":"<code>method: str</code>","text":"<p>The HTTP method of the request.</p> <ul> <li>Examples: <code>\"GET\"</code>, <code>\"POST\"</code>, <code>\"PUT\"</code>, <code>\"DELETE\"</code>, <code>\"PATCH\"</code></li> </ul> <pre><code>if request.method == \"GET\":\n    return \"200 OK\", \"Retrieved\"\nelif request.method == \"POST\":\n    return \"201 CREATED\", \"Created\"\n</code></pre>"},{"location":"api/core/requests/#path-str","title":"<code>path: str</code>","text":"<p>The normalized URL path of the request. Trailing slashes are removed except for the root path <code>\"/\"</code>.</p> <ul> <li><code>/users</code> (trailing slash removed)</li> <li><code>/users/</code> becomes <code>/users</code></li> <li><code>/</code> stays <code>/</code></li> </ul> <pre><code>if request.path == \"/\":\n    return \"200 OK\", \"Home\"\nelif request.path == \"/about\":\n    return \"200 OK\", \"About\"\n</code></pre>"},{"location":"api/core/requests/#request-data","title":"Request Data","text":""},{"location":"api/core/requests/#query_params-dictstr-any","title":"<code>query_params: dict[str, Any]</code>","text":"<p>Parsed query string parameters from the URL. Only the first value is returned for each parameter.</p> <pre><code># URL: /search?q=python&amp;category=web\n\nprint(request.query_params)\n# Output: {'q': 'python', 'category': 'web'}\n\nsearch_term = request.query_params.get('q')\n</code></pre>"},{"location":"api/core/requests/#data-dictstr-any","title":"<code>data: dict[str, Any]</code>","text":"<p>Parsed request body. Content parsing is automatic based on <code>Content-Type</code> header:</p> <ul> <li><code>application/json</code> - JSON decoded</li> <li><code>application/x-www-form-urlencoded</code> - Form data</li> <li><code>multipart/form-data</code> - File uploads and form fields</li> <li>Other content types return empty dict</li> </ul> <pre><code>@app.post(\"/users\")\ndef create_user(request):\n    # For JSON POST: {\"name\": \"John\", \"email\": \"john@example.com\"}\n    name = request.data.get('name')\n    email = request.data.get('email')\n    return \"201 CREATED\", f\"Created user {name}\"\n</code></pre>"},{"location":"api/core/requests/#headers-and-cookies","title":"Headers and Cookies","text":""},{"location":"api/core/requests/#headers-dictstr-str","title":"<code>headers: dict[str, str]</code>","text":"<p>All HTTP request headers as a dictionary. Header names are normalized (e.g., \"Content-Type\").</p> <pre><code>content_type = request.headers.get('Content-Type')\nuser_agent = request.headers.get('User-Agent')\n</code></pre>"},{"location":"api/core/requests/#cookies-dictstr-str","title":"<code>cookies: dict[str, str]</code>","text":"<p>Parsed cookies from the <code>Cookie</code> header.</p> <pre><code>session_id = request.cookies.get('session_id')\nuser_pref = request.cookies.get('user_preference')\n</code></pre>"},{"location":"api/core/requests/#content_type-str","title":"<code>content_type: str</code>","text":"<p>The value of the <code>Content-Type</code> header.</p> <pre><code>if \"application/json\" in request.content_type:\n    # Handle JSON data\n    pass\n</code></pre>"},{"location":"api/core/requests/#content_length-int","title":"<code>content_length: int</code>","text":"<p>The size of the request body in bytes. Returns 0 if <code>Content-Length</code> header is missing or invalid.</p> <pre><code>if request.content_length &gt; 10_000_000:\n    return \"413 PAYLOAD TOO LARGE\", \"Request too large\"\n</code></pre>"},{"location":"api/core/requests/#connection-information","title":"Connection Information","text":""},{"location":"api/core/requests/#client_ip-str","title":"<code>client_ip: str</code>","text":"<p>The IP address of the client making the request.</p> <pre><code>print(f\"Request from: {request.client_ip}\")\n</code></pre>"},{"location":"api/core/requests/#server-str","title":"<code>server: str</code>","text":"<p>The hostname or IP address of the server.</p> <pre><code>print(f\"Server name: {request.server}\")\n</code></pre>"},{"location":"api/core/requests/#user_agent-str","title":"<code>user_agent: str</code>","text":"<p>The <code>User-Agent</code> header value.</p> <pre><code>if \"Mobile\" in request.user_agent:\n    # Serve mobile-optimized content\n    pass\n</code></pre>"},{"location":"api/core/requests/#protocol-str","title":"<code>protocol: str</code>","text":"<p>The HTTP protocol version (e.g., <code>\"HTTP/1.1\"</code>, <code>\"HTTP/2.0\"</code>).</p> <pre><code>print(f\"Protocol: {request.protocol}\")\n</code></pre>"},{"location":"api/core/requests/#scheme-str","title":"<code>scheme: str</code>","text":"<p>The URL scheme of the request. Either <code>\"http\"</code> or <code>\"https\"</code>.</p> <pre><code>print(f\"Scheme: {request.scheme}\")\n</code></pre>"},{"location":"api/core/requests/#is_secure-bool","title":"<code>is_secure: bool</code>","text":"<p>Whether the connection is secure (HTTPS). Equivalent to <code>request.scheme == \"https\"</code>.</p> <pre><code>if request.is_secure:\n    # HTTPS connection\n    pass\nelse:\n    # HTTP connection\n    pass\n</code></pre>"},{"location":"api/core/requests/#wsgi-environment","title":"WSGI Environment","text":""},{"location":"api/core/requests/#environ-dict","title":"<code>environ: dict</code>","text":"<p>The raw WSGI environment dictionary. Use this for advanced use cases.</p> <pre><code># Access raw WSGI environ if needed\nremote_port = request.environ.get('REMOTE_PORT')\n</code></pre>"},{"location":"api/core/requests/#helper-classes","title":"Helper Classes","text":""},{"location":"api/core/requests/#parsequery","title":"ParseQuery","text":"<p>Utility class for parsing URL query strings.</p> <pre><code>from wiverno.core.requests import ParseQuery\n\n# Parse query string\nquery_dict = ParseQuery.parse_input_data(\"name=John&amp;age=30\")\n# Output: {'name': 'John', 'age': '30'}\n\n# Get query params from WSGI environ\nparams = ParseQuery.get_request_params(environ)\n</code></pre>"},{"location":"api/core/requests/#parsebody","title":"ParseBody","text":"<p>Handles parsing of POST request bodies with support for multiple content types.</p> <pre><code>from wiverno.core.requests import ParseBody\n\n# Parse request body\ndata = ParseBody.get_request_params(environ, raw_bytes)\n</code></pre> <p>Supported content types: - <code>multipart/form-data</code> - File uploads and form data - <code>application/x-www-form-urlencoded</code> - Form submissions - <code>application/json</code> - JSON data</p>"},{"location":"api/core/requests/#headerparser","title":"HeaderParser","text":"<p>Utility class for parsing HTTP headers from WSGI environment.</p> <pre><code>from wiverno.core.requests import HeaderParser\n\n# Get all headers\nheaders = HeaderParser.get_headers(environ)\n</code></pre>"},{"location":"api/core/requests/#examples","title":"Examples","text":""},{"location":"api/core/requests/#simple-get-request","title":"Simple GET Request","text":"<pre><code>@app.get(\"/\")\ndef home(request: Request) -&gt; tuple[str, str]:\n    return \"200 OK\", \"&lt;html&gt;&lt;body&gt;Home&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>"},{"location":"api/core/requests/#get-with-query-parameters","title":"GET with Query Parameters","text":"<pre><code>@app.get(\"/search\")\ndef search(request: Request) -&gt; tuple[str, str]:\n    q = request.query_params.get('q', '')\n    return \"200 OK\", f\"&lt;html&gt;&lt;body&gt;Search results for: {q}&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>"},{"location":"api/core/requests/#post-with-json-data","title":"POST with JSON Data","text":"<pre><code>@app.post(\"/api/users\")\ndef create_user(request: Request) -&gt; tuple[str, str]:\n    data = request.data\n    name = data.get('name')\n    email = data.get('email')\n\n    if not name or not email:\n        return \"400 BAD REQUEST\", \"Missing required fields\"\n\n    return \"201 CREATED\", f\"User {name} created\"\n</code></pre>"},{"location":"api/core/requests/#post-with-form-data","title":"POST with Form Data","text":"<pre><code>@app.post(\"/login\")\ndef login(request: Request) -&gt; tuple[str, str]:\n    username = request.data.get('username')\n    password = request.data.get('password')\n\n    if username == \"admin\" and password == \"secret\":\n        return \"200 OK\", \"Login successful\"\n    else:\n        return \"401 UNAUTHORIZED\", \"Invalid credentials\"\n</code></pre>"},{"location":"api/core/requests/#checking-headers","title":"Checking Headers","text":"<pre><code>@app.post(\"/api/data\")\ndef api_endpoint(request: Request) -&gt; tuple[str, str]:\n    auth_header = request.headers.get('Authorization')\n\n    if not auth_header:\n        return \"401 UNAUTHORIZED\", \"Missing Authorization header\"\n\n    if not auth_header.startswith('Bearer '):\n        return \"401 UNAUTHORIZED\", \"Invalid token format\"\n\n    token = auth_header[7:]  # Remove 'Bearer ' prefix\n    return \"200 OK\", \"Authorized\"\n</code></pre>"},{"location":"api/core/requests/#using-cookies","title":"Using Cookies","text":"<pre><code>@app.get(\"/profile\")\ndef profile(request: Request) -&gt; tuple[str, str]:\n    session_id = request.cookies.get('session_id')\n\n    if not session_id:\n        return \"401 UNAUTHORIZED\", \"No session\"\n\n    # Validate session_id\n    return \"200 OK\", f\"&lt;html&gt;&lt;body&gt;Profile&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>"},{"location":"api/core/requests/#see-also","title":"See Also","text":"<ul> <li>Application - Main Wiverno application class</li> <li>Router - URL routing</li> <li>Base Views - Class-based views</li> </ul>"},{"location":"api/core/router/","title":"Router","text":"<p>The <code>Router</code> class provides a way to organize and group routes separately from the main <code>Wiverno</code> application. Routes defined in a router can be included in the main application using <code>include_router()</code>.</p>"},{"location":"api/core/router/#module-wivernocoreroutingrouter","title":"Module: <code>wiverno.core.routing.router</code>","text":""},{"location":"api/core/router/#overview","title":"Overview","text":"<p>Routers are useful for organizing your application into logical modules:</p> <ul> <li>API routes - Group API endpoints</li> <li>Admin routes - Separate admin functionality</li> <li>Feature modules - Organize routes by feature</li> </ul> <p>Routes from a router are included in the main application with an optional URL prefix.</p>"},{"location":"api/core/router/#basic-usage","title":"Basic Usage","text":"<pre><code>from wiverno.core.routing.router import Router\n\n# Create a router\napi_router = Router()\n\n# Define routes\n@api_router.get(\"/users\")\ndef list_users(request):\n    return \"200 OK\", \"Users list\"\n\n@api_router.post(\"/users\")\ndef create_user(request):\n    return \"201 CREATED\", \"User created\"\n\n# Include in main app\nfrom wiverno.main import Wiverno\n\napp = Wiverno()\napp.include_router(api_router, prefix=\"/api\")\n\n# Routes become:\n# GET /api/users\n# POST /api/users\n</code></pre>"},{"location":"api/core/router/#constructor","title":"Constructor","text":""},{"location":"api/core/router/#router_1","title":"<code>Router()</code>","text":"<p>Creates a new empty router with no routes.</p> <pre><code>router = Router()\n</code></pre>"},{"location":"api/core/router/#methods","title":"Methods","text":""},{"location":"api/core/router/#decorator-methods","title":"Decorator Methods","text":""},{"location":"api/core/router/#routerroutepath-methodsnone","title":"<code>@router.route(path, methods=None)</code>","text":"<p>Generic route decorator for specifying custom HTTP methods.</p> <p>Parameters:</p> <ul> <li><code>path</code> (str): URL path for the route</li> <li><code>methods</code> (list[str], optional): List of allowed HTTP methods. If <code>None</code>, all methods are allowed.</li> </ul> <pre><code>@router.route(\"/data\", methods=[\"GET\", \"POST\"])\ndef handle_data(request):\n    return \"200 OK\", \"Data\"\n</code></pre>"},{"location":"api/core/router/#routergetpath-routerpostpath-routerputpath-routerpatchpath-routerdeletepath","title":"<code>@router.get(path)</code>, <code>@router.post(path)</code>, <code>@router.put(path)</code>, <code>@router.patch(path)</code>, <code>@router.delete(path)</code>","text":"<p>HTTP method-specific decorators.</p> <pre><code>@router.get(\"/items\")\ndef list_items(request):\n    return \"200 OK\", \"Items\"\n\n@router.post(\"/items\")\ndef create_item(request):\n    return \"201 CREATED\", \"Item created\"\n\n@router.put(\"/items/1\")\ndef update_item(request):\n    return \"200 OK\", \"Item updated\"\n\n@router.delete(\"/items/1\")\ndef delete_item(request):\n    return \"204 NO CONTENT\", \"\"\n</code></pre>"},{"location":"api/core/router/#routerconnectpath-routerheadpath-routeroptionspath-routertracepath","title":"<code>@router.connect(path)</code>, <code>@router.head(path)</code>, <code>@router.options(path)</code>, <code>@router.trace(path)</code>","text":"<p>Additional HTTP method decorators for CONNECT, HEAD, OPTIONS, and TRACE.</p>"},{"location":"api/core/router/#programmatic-route-addition","title":"Programmatic Route Addition","text":""},{"location":"api/core/router/#routeradd_routepath-handler-methodsnone","title":"<code>router.add_route(path, handler, methods=None)</code>","text":"<p>Programmatically add a route to the router without using decorators.</p> <p>Parameters:</p> <ul> <li><code>path</code> (str): URL path for the route</li> <li><code>handler</code> (Callable): Function to handle the route</li> <li><code>methods</code> (list[str], optional): Allowed HTTP methods. If <code>None</code>, no method restriction.</li> </ul> <p>Returns: None</p> <pre><code>def api_status(request):\n    return \"200 OK\", '{\"status\": \"ok\"}'\n\nrouter.add_route(\"/status\", api_status, methods=[\"GET\"])\n</code></pre>"},{"location":"api/core/router/#route-retrieval","title":"Route Retrieval","text":""},{"location":"api/core/router/#routerget_routes-listdict","title":"<code>router.get_routes() -&gt; list[dict]</code>","text":"<p>Returns all registered routes in the router.</p> <p>Returns: List of route dictionaries with keys:</p> <ul> <li><code>path</code> (str): Route path</li> <li><code>handler</code> (Callable): Handler function</li> <li><code>methods</code> (list[str] | None): Allowed HTTP methods</li> </ul> <pre><code>router = Router()\n\n@router.get(\"/data\")\ndef get_data(request):\n    return \"200 OK\", \"Data\"\n\nroutes = router.get_routes()\nprint(routes)\n# Output: [{'path': '/data', 'handler': &lt;function&gt;, 'methods': ['GET']}]\n</code></pre>"},{"location":"api/core/router/#integration-with-wiverno","title":"Integration with Wiverno","text":""},{"location":"api/core/router/#including-routers","title":"Including Routers","text":"<p>Use <code>app.include_router()</code> to add router routes to your Wiverno application.</p> <pre><code>from wiverno.main import Wiverno\nfrom wiverno.core.routing.router import Router\n\n# Create routers\napi_router = Router()\nadmin_router = Router()\n\n# Define routes in routers\n@api_router.get(\"/users\")\ndef api_users(request):\n    return \"200 OK\", \"API Users\"\n\n@admin_router.get(\"/dashboard\")\ndef admin_dashboard(request):\n    return \"200 OK\", \"Admin Dashboard\"\n\n# Create main app and include routers\napp = Wiverno()\napp.include_router(api_router, prefix=\"/api\")\napp.include_router(admin_router, prefix=\"/admin\")\n\n# Final routes:\n# GET /api/users\n# GET /admin/dashboard\n</code></pre>"},{"location":"api/core/router/#path-normalization","title":"Path Normalization","text":"<p>Paths in routers follow the same normalization rules as the main application:</p> <ul> <li>Trailing slashes are removed except for <code>/</code></li> <li><code>/users/</code> becomes <code>/users</code></li> <li><code>/</code> stays <code>/</code></li> </ul> <pre><code>@router.get(\"/users\")      # Accessible at /users\n@router.get(\"/users/\")     # Also accessible at /users (slash removed)\n@router.get(\"/\")           # Root route, stays as /\n</code></pre>"},{"location":"api/core/router/#method-restrictions","title":"Method Restrictions","text":"<p>If no methods are specified in the router, no method restriction is applied when the route is included in the application.</p> <pre><code>@router.route(\"/data\")  # No methods specified\ndef handle_data(request):\n    return \"200 OK\", \"Data\"\n\n# This route accepts ALL HTTP methods\n</code></pre> <p>If methods are specified in the router, they are preserved when included in the application.</p> <pre><code>@router.get(\"/users\")  # Only GET allowed\ndef get_users(request):\n    return \"200 OK\", \"Users\"\n</code></pre>"},{"location":"api/core/router/#examples","title":"Examples","text":""},{"location":"api/core/router/#api-router","title":"API Router","text":"<pre><code>from wiverno.core.routing.router import Router\nfrom wiverno.core.requests import Request\n\napi_router = Router()\n\n@api_router.get(\"/posts\")\ndef list_posts(request: Request):\n    return \"200 OK\", '[{\"id\": 1, \"title\": \"First\"}]'\n\n@api_router.post(\"/posts\")\ndef create_post(request: Request):\n    data = request.data\n    title = data.get('title')\n    return \"201 CREATED\", f'{{\"title\": \"{title}\"}}'\n\n@api_router.get(\"/posts/1\")\ndef get_post(request: Request):\n    return \"200 OK\", '{\"id\": 1, \"title\": \"First\"}'\n</code></pre>"},{"location":"api/core/router/#nested-router-prefixes","title":"Nested Router Prefixes","text":"<pre><code>from wiverno.core.routing.router import Router\nfrom wiverno.main import Wiverno\n\n# V1 API routes\nv1_router = Router()\n\n@v1_router.get(\"/users\")\ndef v1_users(request):\n    return \"200 OK\", \"V1 Users\"\n\n# V2 API routes\nv2_router = Router()\n\n@v2_router.get(\"/users\")\ndef v2_users(request):\n    return \"200 OK\", \"V2 Users\"\n\n# Include with nested prefixes\napp = Wiverno()\napp.include_router(v1_router, prefix=\"/api/v1\")\napp.include_router(v2_router, prefix=\"/api/v2\")\n\n# Routes:\n# GET /api/v1/users\n# GET /api/v2/users\n</code></pre>"},{"location":"api/core/router/#admin-routes","title":"Admin Routes","text":"<pre><code>admin_router = Router()\n\n@admin_router.get(\"/users\")\ndef admin_users(request):\n    return \"200 OK\", \"Admin User List\"\n\n@admin_router.post(\"/users\")\ndef admin_create_user(request):\n    return \"201 CREATED\", \"User created\"\n\n@admin_router.get(\"/settings\")\ndef admin_settings(request):\n    return \"200 OK\", \"Admin Settings\"\n\n# Include with /admin prefix\napp.include_router(admin_router, prefix=\"/admin\")\n</code></pre>"},{"location":"api/core/router/#see-also","title":"See Also","text":"<ul> <li>Application - Main Wiverno application class</li> <li>Request - Request handling</li> <li>Base Views - Class-based views</li> </ul>"},{"location":"api/core/server/","title":"Server","text":"<p>The <code>RunServer</code> class provides a simple WSGI server implementation for running Wiverno applications. It uses Python's built-in <code>wsgiref.simple_server</code> for request handling.</p>"},{"location":"api/core/server/#module-wivernocoreserver","title":"Module: <code>wiverno.core.server</code>","text":""},{"location":"api/core/server/#overview","title":"Overview","text":"<p><code>RunServer</code> is a lightweight WSGI server wrapper that's suitable for development and testing. For production deployments, use external WSGI servers like Gunicorn, uWSGI, or Waitress.</p>"},{"location":"api/core/server/#constructor","title":"Constructor","text":""},{"location":"api/core/server/#runserverapplication-hostlocalhost-port8000","title":"<code>RunServer(application, host=\"localhost\", port=8000)</code>","text":"<p>Creates a new server instance.</p> <p>Parameters:</p> <ul> <li><code>application</code> (Callable): A WSGI-compatible application</li> <li><code>host</code> (str, optional): Hostname to bind to. Defaults to <code>\"localhost\"</code></li> <li><code>port</code> (int, optional): Port number to bind to. Defaults to <code>8000</code></li> </ul> <p>Returns: <code>RunServer</code> instance</p> <pre><code>from wiverno.core.server import RunServer\nfrom wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef home(request):\n    return \"200 OK\", \"Hello\"\n\n# Create server\nserver = RunServer(app, host=\"localhost\", port=8000)\n</code></pre>"},{"location":"api/core/server/#attributes","title":"Attributes","text":""},{"location":"api/core/server/#host-str","title":"<code>host: str</code>","text":"<p>The hostname the server is bound to.</p> <pre><code>server = RunServer(app, host=\"0.0.0.0\")\nprint(server.host)  # Output: 0.0.0.0\n</code></pre>"},{"location":"api/core/server/#port-int","title":"<code>port: int</code>","text":"<p>The port number the server is bound to.</p> <pre><code>server = RunServer(app, port=8000)\nprint(server.port)  # Output: 8000\n</code></pre>"},{"location":"api/core/server/#application-callable","title":"<code>application: Callable</code>","text":"<p>The WSGI application being served.</p> <pre><code>server = RunServer(app)\nprint(server.application)  # Output: &lt;Wiverno application&gt;\n</code></pre>"},{"location":"api/core/server/#methods","title":"Methods","text":""},{"location":"api/core/server/#start-none","title":"<code>start() -&gt; None</code>","text":"<p>Starts the WSGI server and serves the application forever.</p> <p>The server will run indefinitely until interrupted by <code>KeyboardInterrupt</code> (Ctrl+C). This method blocks and doesn't return unless the server is stopped.</p> <p>Raises:</p> <ul> <li><code>KeyboardInterrupt</code> when user presses Ctrl+C (gracefully handled)</li> </ul> <pre><code>server = RunServer(app, host=\"0.0.0.0\", port=8000)\nserver.start()  # Blocks until Ctrl+C is pressed\n</code></pre>"},{"location":"api/core/server/#usage-examples","title":"Usage Examples","text":""},{"location":"api/core/server/#basic-usage","title":"Basic Usage","text":"<pre><code>from wiverno.main import Wiverno\nfrom wiverno.core.server import RunServer\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef home(request):\n    return \"200 OK\", \"&lt;html&gt;&lt;body&gt;Hello!&lt;/body&gt;&lt;/html&gt;\"\n\nif __name__ == \"__main__\":\n    server = RunServer(app, host=\"localhost\", port=8000)\n    server.start()\n</code></pre> <p>Run with: <pre><code>python run.py\n# Server running at http://localhost:8000\n</code></pre></p>"},{"location":"api/core/server/#custom-host-and-port","title":"Custom Host and Port","text":"<pre><code>from wiverno.core.server import RunServer\n\n# Listen on all network interfaces\nserver = RunServer(app, host=\"0.0.0.0\", port=5000)\nserver.start()\n\n# Now accessible at http://0.0.0.0:5000\n</code></pre>"},{"location":"api/core/server/#development-server-setup","title":"Development Server Setup","text":"<pre><code>from wiverno.main import Wiverno\nfrom wiverno.core.server import RunServer\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef home(request):\n    return \"200 OK\", \"Home\"\n\n@app.get(\"/about\")\ndef about(request):\n    return \"200 OK\", \"About\"\n\nif __name__ == \"__main__\":\n    print(\"Starting development server...\")\n    print(\"Server running at http://localhost:8000\")\n    print(\"Press Ctrl+C to stop\")\n\n    server = RunServer(app)\n    server.start()\n</code></pre>"},{"location":"api/core/server/#cli-alternative","title":"CLI Alternative","text":"<p>The Wiverno CLI provides a convenient way to start the server:</p> <pre><code>wiverno run dev app:app --host 0.0.0.0 --port 5000\n</code></pre> <p>This automatically creates a <code>RunServer</code> and starts it.</p>"},{"location":"api/core/server/#production-deployment","title":"Production Deployment","text":"<p>For production use, employ external WSGI servers instead of <code>RunServer</code>:</p>"},{"location":"api/core/server/#gunicorn","title":"Gunicorn","text":"<pre><code>gunicorn app:app\n</code></pre>"},{"location":"api/core/server/#uwsgi","title":"uWSGI","text":"<pre><code>uwsgi --http :8000 --wsgi-file app.py --callable app\n</code></pre>"},{"location":"api/core/server/#waitress","title":"Waitress","text":"<pre><code>from waitress import serve\nfrom wiverno.main import Wiverno\n\napp = Wiverno()\n\n# ... define routes ...\n\nif __name__ == \"__main__\":\n    serve(app, host='0.0.0.0', port=8000)\n</code></pre>"},{"location":"api/core/server/#notes","title":"Notes","text":"<ul> <li><code>RunServer</code> is intended for development and testing only</li> <li>Use external WSGI servers (Gunicorn, uWSGI, Waitress) for production</li> <li>The server binds to the specified host and port</li> <li>On Windows, use <code>\"127.0.0.1\"</code> instead of <code>\"localhost\"</code> if you encounter connection issues</li> <li>When binding to <code>\"0.0.0.0\"</code>, the server listens on all available network interfaces</li> </ul>"},{"location":"api/core/server/#see-also","title":"See Also","text":"<ul> <li>Application - Wiverno application class</li> <li>CLI - Command-line interface</li> <li>Workflow - Development workflow</li> </ul>"},{"location":"api/templating/templator/","title":"Templator","text":"<p>The <code>Templator</code> class provides a simple wrapper around Jinja2 for rendering templates in Wiverno applications.</p>"},{"location":"api/templating/templator/#module-wivernotemplatingtemplator","title":"Module: <code>wiverno.templating.templator</code>","text":""},{"location":"api/templating/templator/#overview","title":"Overview","text":"<p><code>Templator</code> simplifies template rendering by:</p> <ul> <li>Loading templates from a specified directory</li> <li>Providing a clean <code>render()</code> method</li> <li>Handling template inheritance and includes</li> <li>Supporting all Jinja2 features (filters, macros, etc.)</li> </ul>"},{"location":"api/templating/templator/#constructor","title":"Constructor","text":""},{"location":"api/templating/templator/#templatorfoldertemplates","title":"<code>Templator(folder=\"templates\")</code>","text":"<p>Creates a new templator instance with a template directory.</p> <p>Parameters:</p> <ul> <li><code>folder</code> (str | Path, optional): Path to templates folder. Can be absolute or relative to current working directory. Defaults to <code>\"templates\"</code></li> </ul> <p>Returns: <code>Templator</code> instance</p> <pre><code>from wiverno.templating.templator import Templator\n\n# Relative path (relative to current working directory)\ntemplator = Templator(folder=\"templates\")\n\n# Absolute path\ntemplator = Templator(folder=\"/absolute/path/to/templates\")\n\n# Using Path object\nfrom pathlib import Path\ntemplator = Templator(folder=Path(\"my_templates\"))\n</code></pre>"},{"location":"api/templating/templator/#methods","title":"Methods","text":""},{"location":"api/templating/templator/#rendertemplate_name-contentnone-kwargs-str","title":"<code>render(template_name, content=None, **kwargs) -&gt; str</code>","text":"<p>Renders a template with the given context.</p> <p>Parameters:</p> <ul> <li><code>template_name</code> (str): Name of the template file to render</li> <li><code>content</code> (dict, optional): Context dictionary with template variables. Defaults to <code>None</code> (empty dict)</li> <li><code>**kwargs</code>: Additional context variables as keyword arguments</li> </ul> <p>Returns: <code>str</code> - Rendered HTML as a string</p> <p>Raises:</p> <ul> <li><code>TypeError</code> - If <code>content</code> is not a dictionary or <code>None</code></li> <li><code>jinja2.TemplateNotFound</code> - If template file doesn't exist</li> <li><code>jinja2.TemplateSyntaxError</code> - If template has syntax errors</li> </ul> <pre><code>from wiverno.templating.templator import Templator\n\ntemplator = Templator()\n\n# Render with content dict\nhtml = templator.render(\"index.html\", {\"title\": \"Home\"})\n\n# Render with keyword arguments\nhtml = templator.render(\"page.html\", title=\"About\", author=\"John\")\n\n# Render with both\nhtml = templator.render(\n    \"post.html\",\n    {\"title\": \"My Post\"},\n    author=\"Jane\",\n    date=\"2024-01-01\"\n)\n</code></pre>"},{"location":"api/templating/templator/#attributes","title":"Attributes","text":""},{"location":"api/templating/templator/#env-environment","title":"<code>env: Environment</code>","text":"<p>The Jinja2 <code>Environment</code> instance used for template rendering. Access this for advanced Jinja2 features.</p> <pre><code>templator = Templator()\n\n# Add custom Jinja2 filter\n@templator.env.filter('multiply')\ndef multiply(value, num):\n    return value * num\n</code></pre>"},{"location":"api/templating/templator/#base_dir-path","title":"<code>base_dir: Path</code>","text":"<p>The base directory for relative template paths. Defaults to current working directory.</p> <pre><code>templator = Templator()\nprint(templator.base_dir)  # Path object of current directory\n</code></pre>"},{"location":"api/templating/templator/#usage-examples","title":"Usage Examples","text":""},{"location":"api/templating/templator/#basic-template-rendering","title":"Basic Template Rendering","text":"<p>Create a template file <code>templates/index.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{{ title }}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;{{ title }}&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Render it in your view:</p> <pre><code>from wiverno.main import Wiverno\nfrom wiverno.templating.templator import Templator\n\napp = Wiverno()\ntemplator = Templator()\n\n@app.get(\"/\")\ndef home(request):\n    html = templator.render(\"index.html\", {\"title\": \"Welcome\"})\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#multiple-context-variables","title":"Multiple Context Variables","text":"<p>Template <code>templates/post.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{{ title }}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;{{ title }}&lt;/h1&gt;\n    &lt;p&gt;By {{ author }}&lt;/p&gt;\n    &lt;p&gt;{{ content }}&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Render with multiple variables:</p> <pre><code>@app.get(\"/blog/post\")\ndef blog_post(request):\n    html = templator.render(\"post.html\", {\n        \"title\": \"My First Post\",\n        \"author\": \"Jane Doe\",\n        \"content\": \"Lorem ipsum...\"\n    })\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#using-keyword-arguments","title":"Using Keyword Arguments","text":"<pre><code>@app.get(\"/profile\")\ndef profile(request):\n    html = templator.render(\n        \"profile.html\",\n        username=\"john_doe\",\n        email=\"john@example.com\",\n        bio=\"Web developer\"\n    )\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#template-inheritance","title":"Template Inheritance","text":"<p>Base template <code>templates/base.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{% block title %}My Site{% endblock %}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;nav&gt;Navigation&lt;/nav&gt;\n    {% block content %}{% endblock %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Child template <code>templates/page.html</code>:</p> <pre><code>{% extends \"base.html\" %}\n\n{% block title %}{{ page_title }}{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;{{ page_title }}&lt;/h1&gt;\n    &lt;p&gt;{{ text }}&lt;/p&gt;\n{% endblock %}\n</code></pre> <p>Render:</p> <pre><code>@app.get(\"/page\")\ndef page(request):\n    html = templator.render(\"page.html\", {\n        \"page_title\": \"About Us\",\n        \"text\": \"Welcome to our site!\"\n    })\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#template-includes","title":"Template Includes","text":"<p>Main template <code>templates/layout.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    {% include \"head.html\" %}\n&lt;/head&gt;\n&lt;body&gt;\n    {% include \"header.html\" %}\n    &lt;main&gt;\n        {% block content %}{% endblock %}\n    &lt;/main&gt;\n    {% include \"footer.html\" %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Render:</p> <pre><code>@app.get(\"/\")\ndef index(request):\n    html = templator.render(\"layout.html\", {\n        \"page_title\": \"Home\"\n    })\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#custom-jinja2-filters","title":"Custom Jinja2 Filters","text":"<pre><code>from wiverno.templating.templator import Templator\n\ntemplator = Templator()\n\n# Add custom filter\n@templator.env.filter('uppercase')\ndef uppercase(value):\n    return value.upper()\n\n# In template: {{ text | uppercase }}\n</code></pre>"},{"location":"api/templating/templator/#list-and-dict-context","title":"List and Dict Context","text":"<p>Template <code>templates/users.html</code>:</p> <pre><code>&lt;ul&gt;\n{% for user in users %}\n    &lt;li&gt;{{ user.name }} - {{ user.email }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre> <p>Render:</p> <pre><code>@app.get(\"/users\")\ndef list_users(request):\n    users_data = [\n        {\"name\": \"Alice\", \"email\": \"alice@example.com\"},\n        {\"name\": \"Bob\", \"email\": \"bob@example.com\"},\n    ]\n    html = templator.render(\"users.html\", {\"users\": users_data})\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#conditional-content","title":"Conditional Content","text":"<p>Template <code>templates/dashboard.html</code>:</p> <pre><code>{% if user_is_admin %}\n    &lt;a href=\"/admin\"&gt;Admin Panel&lt;/a&gt;\n{% else %}\n    &lt;p&gt;You don't have admin access&lt;/p&gt;\n{% endif %}\n</code></pre> <p>Render:</p> <pre><code>@app.get(\"/dashboard\")\ndef dashboard(request):\n    is_admin = request.query_params.get('admin') == 'true'\n    html = templator.render(\"dashboard.html\", {\n        \"user_is_admin\": is_admin\n    })\n    return \"200 OK\", html\n</code></pre>"},{"location":"api/templating/templator/#jinja2-features","title":"Jinja2 Features","text":"<p>All standard Jinja2 features are available:</p>"},{"location":"api/templating/templator/#filters","title":"Filters","text":"<pre><code>{{ text | lower }}\n{{ price | round(2) }}\n{{ items | length }}\n{{ text | replace('old', 'new') }}\n</code></pre>"},{"location":"api/templating/templator/#loops-and-conditionals","title":"Loops and Conditionals","text":"<pre><code>{% for item in items %}\n    {% if item.active %}\n        &lt;p&gt;{{ item.name }}&lt;/p&gt;\n    {% endif %}\n{% endfor %}\n</code></pre>"},{"location":"api/templating/templator/#macros","title":"Macros","text":"<pre><code>{% macro render_item(item) %}\n    &lt;div class=\"item\"&gt;{{ item.name }}&lt;/div&gt;\n{% endmacro %}\n\n{{ render_item(my_item) }}\n</code></pre>"},{"location":"api/templating/templator/#template-comments","title":"Template Comments","text":"<pre><code>{# This is a comment and won't be rendered #}\n</code></pre>"},{"location":"api/templating/templator/#auto-escaping","title":"Auto-Escaping","text":"<p>By default, <code>Templator</code> enables auto-escaping to prevent HTML injection vulnerabilities:</p> <pre><code># Template variable is auto-escaped\n{{ user_input | safe }}  # Use |safe filter to disable escaping if needed\n</code></pre>"},{"location":"api/templating/templator/#error-handling","title":"Error Handling","text":"<pre><code>from wiverno.templating.templator import Templator\nimport jinja2\n\ntemplator = Templator()\n\ntry:\n    html = templator.render(\"nonexistent.html\")\nexcept jinja2.TemplateNotFound:\n    print(\"Template not found\")\nexcept TypeError:\n    print(\"Context must be a dictionary\")\n</code></pre>"},{"location":"api/templating/templator/#path-resolution","title":"Path Resolution","text":"<p>Template paths are resolved as follows:</p> <ol> <li>If <code>folder</code> is absolute, use it directly</li> <li>If <code>folder</code> is relative, resolve relative to current working directory</li> </ol> <pre><code># Current working directory: /home/user/myapp\n\n# Relative path\ntemplator = Templator(\"templates\")\n# Resolves to: /home/user/myapp/templates\n\n# Absolute path\ntemplator = Templator(\"/etc/templates\")\n# Resolves to: /etc/templates\n</code></pre>"},{"location":"api/templating/templator/#see-also","title":"See Also","text":"<ul> <li>Application - Wiverno application class</li> <li>Request - Request handling</li> <li>Jinja2 Documentation - Official Jinja2 docs</li> </ul>"},{"location":"api/views/base-views/","title":"Base Views","text":"<p>The <code>BaseView</code> class provides a foundation for creating class-based views in Wiverno. It automatically dispatches requests to methods based on HTTP method.</p>"},{"location":"api/views/base-views/#module-wivernoviewsbase_views","title":"Module: <code>wiverno.views.base_views</code>","text":""},{"location":"api/views/base-views/#overview","title":"Overview","text":"<p>Class-based views are an alternative to function-based views. They allow you to organize view logic in classes with methods for different HTTP methods:</p> <ul> <li>GET - <code>get(request)</code></li> <li>POST - <code>post(request)</code></li> <li>PUT - <code>put(request)</code></li> <li>DELETE - <code>delete(request)</code></li> <li>PATCH - <code>patch(request)</code></li> <li>Other HTTP methods - <code>connect(request)</code>, <code>head(request)</code>, <code>options(request)</code>, <code>trace(request)</code></li> </ul>"},{"location":"api/views/base-views/#basic-usage","title":"Basic Usage","text":"<pre><code>from wiverno.main import Wiverno\nfrom wiverno.views.base_views import BaseView\nfrom wiverno.core.requests import Request\n\nclass ItemsView(BaseView):\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        return \"200 OK\", \"List of items\"\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        return \"201 CREATED\", \"Item created\"\n\napp = Wiverno()\napp.route(\"/items\")(ItemsView())\n</code></pre>"},{"location":"api/views/base-views/#class-definition","title":"Class Definition","text":""},{"location":"api/views/base-views/#baseview","title":"<code>BaseView</code>","text":"<p>Base class for class-based views.</p> <pre><code>from wiverno.views.base_views import BaseView\n\nclass MyView(BaseView):\n    \"\"\"Define methods for each HTTP method you want to handle.\"\"\"\n\n    def get(self, request):\n        return \"200 OK\", \"GET response\"\n\n    def post(self, request):\n        return \"201 CREATED\", \"POST response\"\n</code></pre>"},{"location":"api/views/base-views/#methods","title":"Methods","text":""},{"location":"api/views/base-views/#http-method-handlers","title":"HTTP Method Handlers","text":"<p>Define methods named after HTTP methods (lowercase) to handle requests:</p>"},{"location":"api/views/base-views/#getrequest-tuplestr-str","title":"<code>get(request) -&gt; tuple[str, str]</code>","text":"<p>Handle GET requests.</p> <pre><code>class UserListView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"Users list\"\n</code></pre>"},{"location":"api/views/base-views/#postrequest-tuplestr-str","title":"<code>post(request) -&gt; tuple[str, str]</code>","text":"<p>Handle POST requests.</p> <pre><code>class UserListView(BaseView):\n    def post(self, request):\n        # request.data contains POST body\n        name = request.data.get('name')\n        return \"201 CREATED\", f\"User {name} created\"\n</code></pre>"},{"location":"api/views/base-views/#putrequest-tuplestr-str","title":"<code>put(request) -&gt; tuple[str, str]</code>","text":"<p>Handle PUT requests (full resource replacement).</p> <pre><code>class UserDetailView(BaseView):\n    def put(self, request):\n        # request.data contains new resource data\n        return \"200 OK\", \"User updated\"\n</code></pre>"},{"location":"api/views/base-views/#patchrequest-tuplestr-str","title":"<code>patch(request) -&gt; tuple[str, str]</code>","text":"<p>Handle PATCH requests (partial resource update).</p> <pre><code>class UserDetailView(BaseView):\n    def patch(self, request):\n        # request.data contains partial update\n        return \"200 OK\", \"User partially updated\"\n</code></pre>"},{"location":"api/views/base-views/#deleterequest-tuplestr-str","title":"<code>delete(request) -&gt; tuple[str, str]</code>","text":"<p>Handle DELETE requests.</p> <pre><code>class UserDetailView(BaseView):\n    def delete(self, request):\n        return \"204 NO CONTENT\", \"\"\n</code></pre>"},{"location":"api/views/base-views/#connectrequest-headrequest-optionsrequest-tracerequest","title":"<code>connect(request)</code>, <code>head(request)</code>, <code>options(request)</code>, <code>trace(request)</code>","text":"<p>Handle other HTTP methods.</p> <pre><code>class ResourceView(BaseView):\n    def head(self, request):\n        return \"200 OK\", \"\"\n\n    def options(self, request):\n        return \"200 OK\", \"GET,POST,PUT,DELETE\"\n</code></pre>"},{"location":"api/views/base-views/#__call__request-tuplestr-str","title":"<code>__call__(request) -&gt; tuple[str, str]</code>","text":"<p>The magic method that makes the view callable. Automatically dispatches to the appropriate HTTP method handler.</p> <p>Parameters:</p> <ul> <li><code>request</code> (Request): The incoming request object</li> </ul> <p>Returns: <code>tuple[str, str]</code> - (status_string, html_body)</p> <p>Raises:</p> <ul> <li>Returns 405 Method Not Allowed if the method handler is not implemented</li> </ul> <p>This method is called automatically by Wiverno and typically doesn't need to be called directly.</p> <pre><code>view = MyView()\nstatus, body = view(request)  # Calls get/post/etc based on request.method\n</code></pre>"},{"location":"api/views/base-views/#request-dispatching","title":"Request Dispatching","text":"<p><code>BaseView</code> automatically routes requests to methods based on <code>request.method</code>:</p> <pre><code>class APIView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"GET response\"\n\n    def post(self, request):\n        return \"201 CREATED\", \"POST response\"\n\n# When request.method == \"GET\", get() is called\n# When request.method == \"POST\", post() is called\n# When request.method == \"PUT\", 405 is returned (not implemented)\n</code></pre>"},{"location":"api/views/base-views/#error-handling","title":"Error Handling","text":"<p>If the HTTP method is not implemented, BaseView automatically returns a 405 Method Not Allowed response:</p> <pre><code>class GetOnlyView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"Data\"\n\n    # PUT, POST, DELETE not implemented\n    # POST request will return 405\n\nview = GetOnlyView()\nrequest.method = \"POST\"\nstatus, body = view(request)\n# status == \"405 METHOD NOT ALLOWED\"\n</code></pre>"},{"location":"api/views/base-views/#registration-with-application","title":"Registration with Application","text":""},{"location":"api/views/base-views/#using-decorator","title":"Using Decorator","text":"<p>Register a class-based view using the <code>@app.route()</code> or HTTP method decorators:</p> <pre><code>from wiverno.main import Wiverno\nfrom wiverno.views.base_views import BaseView\n\napp = Wiverno()\n\nclass UserView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"Users\"\n\n    def post(self, request):\n        return \"201 CREATED\", \"User created\"\n\n# Register the instantiated view\napp.route(\"/users\")(UserView())\n</code></pre>"},{"location":"api/views/base-views/#with-router","title":"With Router","text":"<p>Use class-based views with routers:</p> <pre><code>from wiverno.core.routing.router import Router\n\nrouter = Router()\n\nclass ItemView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"Items\"\n\nrouter.route(\"/items\")(ItemView())\n\napp.include_router(router, prefix=\"/api\")\n</code></pre>"},{"location":"api/views/base-views/#usage-examples","title":"Usage Examples","text":""},{"location":"api/views/base-views/#simple-get-and-post-handler","title":"Simple GET and POST Handler","text":"<pre><code>from wiverno.views.base_views import BaseView\nfrom wiverno.core.requests import Request\n\nclass ContactView(BaseView):\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        return \"200 OK\", \"\"\"\n            &lt;form method=\"POST\"&gt;\n                &lt;input type=\"text\" name=\"message\"&gt;\n                &lt;button&gt;Send&lt;/button&gt;\n            &lt;/form&gt;\n        \"\"\"\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        message = request.data.get('message')\n        return \"200 OK\", f\"Message received: {message}\"\n\n# Register\napp.route(\"/contact\")(ContactView())\n</code></pre>"},{"location":"api/views/base-views/#rest-api-endpoint","title":"REST API Endpoint","text":"<pre><code>class ArticleView(BaseView):\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        # Get all articles\n        return \"200 OK\", '[{\"id\": 1, \"title\": \"First\"}]'\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        # Create new article\n        data = request.data\n        title = data.get('title')\n        return \"201 CREATED\", f'{{\"title\": \"{title}\"}}'\n\n    def put(self, request: Request) -&gt; tuple[str, str]:\n        # Update article\n        return \"200 OK\", '{\"updated\": true}'\n\n    def delete(self, request: Request) -&gt; tuple[str, str]:\n        # Delete article\n        return \"204 NO CONTENT\", \"\"\n\napp.route(\"/articles\")(ArticleView())\n</code></pre>"},{"location":"api/views/base-views/#combining-with-templates","title":"Combining with Templates","text":"<pre><code>from wiverno.templating.templator import Templator\n\nclass ProfileView(BaseView):\n    def __init__(self):\n        self.templator = Templator()\n\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        user_id = request.query_params.get('id')\n        html = self.templator.render(\"profile.html\", {\n            \"user_id\": user_id\n        })\n        return \"200 OK\", html\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        # Update profile\n        return \"200 OK\", \"Profile updated\"\n\napp.route(\"/profile\")(ProfileView())\n</code></pre>"},{"location":"api/views/base-views/#api-validation","title":"API Validation","text":"<pre><code>import json\n\nclass DataAPIView(BaseView):\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        return \"200 OK\", json.dumps({\"status\": \"ok\"})\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        # Validate request data\n        required_fields = {'name', 'email'}\n        provided_fields = set(request.data.keys())\n\n        if not required_fields.issubset(provided_fields):\n            return \"400 BAD REQUEST\", \"Missing required fields\"\n\n        # Process data\n        return \"201 CREATED\", json.dumps({\"created\": True})\n\n    def put(self, request: Request) -&gt; tuple[str, str]:\n        if not request.data:\n            return \"400 BAD REQUEST\", \"Empty body\"\n\n        return \"200 OK\", json.dumps({\"updated\": True})\n\napp.route(\"/api/data\")(DataAPIView())\n</code></pre>"},{"location":"api/views/base-views/#using-class-state","title":"Using Class State","text":"<pre><code>class CacheView(BaseView):\n    def __init__(self):\n        self.cache = {}\n\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        key = request.query_params.get('key')\n        if key in self.cache:\n            return \"200 OK\", self.cache[key]\n        return \"404 NOT FOUND\", \"Not found\"\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        key = request.data.get('key')\n        value = request.data.get('value')\n        self.cache[key] = value\n        return \"201 CREATED\", \"Cached\"\n\ncache_view = CacheView()\napp.route(\"/cache\")(cache_view)\n</code></pre>"},{"location":"api/views/base-views/#multi-action-view","title":"Multi-Action View","text":"<pre><code>class AdminDashboardView(BaseView):\n    def get(self, request: Request) -&gt; tuple[str, str]:\n        action = request.query_params.get('action', 'overview')\n\n        if action == 'overview':\n            return \"200 OK\", \"Dashboard overview\"\n        elif action == 'users':\n            return \"200 OK\", \"User management\"\n        elif action == 'settings':\n            return \"200 OK\", \"Settings\"\n        else:\n            return \"400 BAD REQUEST\", \"Invalid action\"\n\n    def post(self, request: Request) -&gt; tuple[str, str]:\n        action = request.data.get('action')\n\n        if action == 'save_settings':\n            return \"200 OK\", \"Settings saved\"\n        elif action == 'create_user':\n            return \"201 CREATED\", \"User created\"\n        else:\n            return \"400 BAD REQUEST\", \"Invalid action\"\n\napp.route(\"/admin\")(AdminDashboardView())\n</code></pre>"},{"location":"api/views/base-views/#comparison-function-based-vs-class-based","title":"Comparison: Function-Based vs Class-Based","text":""},{"location":"api/views/base-views/#function-based-view","title":"Function-Based View","text":"<pre><code>@app.route(\"/items\", methods=[\"GET\", \"POST\"])\ndef items_view(request):\n    if request.method == \"GET\":\n        return \"200 OK\", \"Items list\"\n    elif request.method == \"POST\":\n        return \"201 CREATED\", \"Item created\"\n</code></pre>"},{"location":"api/views/base-views/#class-based-view","title":"Class-Based View","text":"<pre><code>class ItemsView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"Items list\"\n\n    def post(self, request):\n        return \"201 CREATED\", \"Item created\"\n\napp.route(\"/items\")(ItemsView())\n</code></pre> <p>Class-based views are cleaner when handling multiple HTTP methods for the same resource.</p>"},{"location":"api/views/base-views/#see-also","title":"See Also","text":"<ul> <li>Application - Wiverno application class</li> <li>Request - Request handling</li> <li>Router - URL routing</li> </ul>"},{"location":"dev/","title":"Development Guide","text":"<p>Welcome to Wiverno development documentation!</p>"},{"location":"dev/#quick-start","title":"Quick Start","text":"<ol> <li>Fork: https://github.com/Sayrrexe/Wiverno</li> <li>Clone: <code>git clone https://github.com/YOUR_USERNAME/Wiverno.git</code></li> <li>Setup: <code>uv pip install -e \".[dev]\"</code></li> <li>Pre-commit: <code>pre-commit install</code></li> <li>Branch: <code>git checkout -b feature/name</code></li> <li>Develop: <code>make check</code> to verify code</li> <li>Commit: <code>git commit -m \"feat: description\"</code></li> <li>PR: Push and create pull request</li> </ol>"},{"location":"dev/#main-sections","title":"Main Sections","text":"<p>Getting Started</p> <ul> <li>Contributing - How to contribute</li> <li>Setup - Development environment</li> </ul> <p>Code Quality</p> <ul> <li>Code Style - Naming, organization, docstrings</li> <li>Type Hints - Type annotation rules</li> <li>Linting - Ruff, MyPy, pre-commit</li> </ul> <p>Testing &amp; Performance</p> <ul> <li>Testing - Running tests, fixtures, examples</li> <li>Benchmarks - Performance testing, profiling, optimization</li> </ul> <p>Understanding Wiverno</p> <ul> <li>Architecture - How Wiverno works</li> <li>Project Structure - File organization</li> <li>Workflow - Development process</li> </ul>"},{"location":"dev/#common-commands","title":"Common Commands","text":"<pre><code>make test              # Run tests\nmake format            # Format code\nmake lint              # Check code quality\nmake typecheck         # Type check\nmake check             # All checks\nmake docs-serve        # Serve documentation\nwiverno run dev  # Dev server with auto-reload\n</code></pre>"},{"location":"dev/#requirements","title":"Requirements","text":"<ul> <li>Python 3.12+</li> <li>All functions must have type hints</li> <li>Tests for new code</li> <li>Code formatted and linted</li> <li>Coverage &gt; 50%</li> </ul>"},{"location":"dev/#tools","title":"Tools","text":"<ul> <li>Ruff - Linter and formatter</li> <li>MyPy - Type checker (strict mode)</li> <li>Pytest - Testing framework</li> <li>Pre-commit - Automated checks</li> <li>uv - Package manager</li> <li>Make - Task automation</li> </ul>"},{"location":"dev/#project-layout","title":"Project Layout","text":"<pre><code>wiverno/              Main package\n\u251c\u2500\u2500 core/             Requests, router, server\n\u251c\u2500\u2500 templating/       Template engine\n\u251c\u2500\u2500 views/            View classes\n\u251c\u2500\u2500 dev/              Dev tools\n\u251c\u2500\u2500 main.py           WSGI app\n\u2514\u2500\u2500 cli.py            CLI interface\n\ntests/                Test suite\n\u251c\u2500\u2500 unit/             Unit tests\n\u251c\u2500\u2500 integration/      Integration tests\n\u2514\u2500\u2500 benchmark/        Performance tests\n\ndocs/                 Documentation\n\u251c\u2500\u2500 api/              API reference\n\u251c\u2500\u2500 dev/              Developer docs\n\u2514\u2500\u2500 guide/            User guides\n</code></pre>"},{"location":"dev/#pr-checklist","title":"PR Checklist","text":"<ul> <li>Tests pass: <code>uv run pytest</code></li> <li>Coverage &gt; 50%</li> <li>Code formatted: <code>uv run ruff format .</code></li> <li>No lint errors: <code>uv run ruff check .</code></li> <li>Types checked: <code>uv run mypy wiverno</code></li> <li>Tests added for new code</li> <li>Commit messages clear</li> </ul>"},{"location":"dev/#get-help","title":"Get Help","text":"<ul> <li>GitHub Issues - Report bugs</li> <li>GitHub Discussions - Ask questions</li> </ul>"},{"location":"dev/#next-steps","title":"Next Steps","text":"<ul> <li>Contributing - Detailed guidelines</li> <li>Architecture - How Wiverno works</li> <li>Testing - Writing tests</li> </ul>"},{"location":"dev/architecture/","title":"Architecture","text":"<p>Wiverno's internal architecture.</p>"},{"location":"dev/architecture/#wsgi-flow","title":"WSGI Flow","text":"<p>HTTP Request \u2192 WSGI environ dict \u2192 Request parsing \u2192 Route matching \u2192 Handler execution \u2192 WSGI response</p>"},{"location":"dev/architecture/#components","title":"Components","text":""},{"location":"dev/architecture/#wiverno-main-wsgi-app","title":"Wiverno (Main WSGI App)","text":"<p>Entry point implementing WSGI interface:</p> <ul> <li>Initialize router with routes</li> <li>Parse WSGI environ</li> <li>Route requests to handlers</li> <li>Generate responses</li> <li>Handle errors (404, 405, 500)</li> </ul>"},{"location":"dev/architecture/#request-request-parsing","title":"Request (Request Parsing)","text":"<p>Parses WSGI environ into Request object:</p> <pre><code>request.method      # HTTP method (GET, POST, etc)\nrequest.path        # Normalized URL path\nrequest.query_params  # Parsed query string dict\nrequest.data        # Parsed request body\nrequest.headers     # HTTP headers dict\nrequest.cookies     # Parsed cookies dict\n</code></pre> <p>Auto-parses body based on Content-Type:</p> <ul> <li><code>application/json</code> - JSON decode</li> <li><code>application/x-www-form-urlencoded</code> - form parsing</li> <li><code>multipart/form-data</code> - file upload parsing</li> </ul>"},{"location":"dev/architecture/#router-route-matching","title":"Router (Route Matching)","text":"<p>Matches request path to handlers:</p> <pre><code>@app.get(\"/users\")\ndef list_users(request):\n    return \"200 OK\", \"response\"\n\n@app.post(\"/users\")\ndef create_user(request):\n    return \"201 CREATED\", \"created\"\n</code></pre> <p>Path normalization: trailing slashes removed except \"/\"</p> <p>Route matching returns <code>(handler, path_params)</code> tuple</p>"},{"location":"dev/architecture/#handler-response-contract","title":"Handler Response Contract","text":"<p>All handlers must return <code>(status_string, html_body)</code> tuple:</p> <pre><code>def handler(request: Request) -&gt; tuple[str, str]:\n    return \"200 OK\", \"&lt;html&gt;...&lt;/html&gt;\"\n</code></pre> <p>Valid status strings: \"200 OK\", \"404 NOT FOUND\", \"201 CREATED\", etc.</p>"},{"location":"dev/architecture/#error-handling","title":"Error Handling","text":"<p>Three customizable error handlers:</p> <pre><code>app = Wiverno(\n    page_404=custom_404_handler,   # Route not found\n    page_405=custom_405_handler,   # Method not allowed\n    page_500=custom_500_handler,   # Server error\n)\n</code></pre> <p>Each receives Request object; 500 handler gets traceback in debug mode.</p>"},{"location":"dev/architecture/#class-based-views","title":"Class-Based Views","text":"<p>Use BaseView for multiple HTTP methods:</p> <pre><code>from wiverno.views.base_views import BaseView\n\nclass UserView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"list\"\n\n    def post(self, request):\n        return \"201 CREATED\", \"created\"\n\napp.route(\"/users\")(UserView())\n</code></pre> <p>Methods dispatched by <code>request.method.lower()</code></p>"},{"location":"dev/architecture/#modular-routing","title":"Modular Routing","text":"<p>Router class for organizing routes:</p> <pre><code>from wiverno.core.routing.router import Router\n\napi_router = Router()\n\n@api_router.get(\"/data\")\ndef api_data(request):\n    return \"200 OK\", \"data\"\n\napp.include_router(api_router, prefix=\"/api\")\n# Route becomes /api/data\n</code></pre>"},{"location":"dev/architecture/#module-structure","title":"Module Structure","text":"<pre><code>wiverno/\n\u251c\u2500\u2500 main.py              # Wiverno WSGI app\n\u251c\u2500\u2500 cli.py               # CLI commands\n\u251c\u2500\u2500 core/\n\u2502   \u251c\u2500\u2500 requests.py      # Request parsing\n\u2502   \u251c\u2500\u2500 router.py        # Router class\n\u2502   \u2514\u2500\u2500 server.py        # WSGI server\n\u251c\u2500\u2500 templating/\n\u2502   \u2514\u2500\u2500 templator.py     # Jinja2 wrapper\n\u251c\u2500\u2500 views/\n\u2502   \u251c\u2500\u2500 base_views.py    # BaseView class\n\u2502   \u2514\u2500\u2500 pages_errors.py  # Error handlers\n\u2514\u2500\u2500 dev/\n    \u2514\u2500\u2500 dev_server.py    # Dev server with hot reload\n</code></pre>"},{"location":"dev/architecture/#next-steps","title":"Next Steps","text":"<ul> <li>Testing - Writing tests</li> <li>Code Style - Code standards</li> <li>Workflow - Development workflow</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"dev/benchmarks/","title":"Benchmarks","text":"<p>Performance testing and optimization for Wiverno.</p>"},{"location":"dev/benchmarks/#overview","title":"Overview","text":"<p>Wiverno includes performance benchmarks to track and improve performance over time. Benchmarks are run using pytest-benchmark.</p>"},{"location":"dev/benchmarks/#running-benchmarks","title":"Running Benchmarks","text":"<pre><code># Run all benchmarks\nmake benchmark\n\n# Or directly\nuv run pytest tests/benchmark/ --benchmark-only\n\n# With comparison\nuv run pytest tests/benchmark/ --benchmark-compare\n\n# Save results\nuv run pytest tests/benchmark/ --benchmark-save=results\n\n# Compare with saved results\nuv run pytest tests/benchmark/ --benchmark-compare=results\n</code></pre>"},{"location":"dev/benchmarks/#benchmark-suite","title":"Benchmark Suite","text":""},{"location":"dev/benchmarks/#router-performance","title":"Router Performance","text":"<p>Test route matching speed:</p> <pre><code>\"\"\"Benchmark router performance.\"\"\"\nimport pytest\nfrom wiverno.core.routing.router import Router\n\n\ndef test_simple_routing(benchmark):\n    \"\"\"Benchmark simple route matching.\"\"\"\n    router = Router()\n    router.get(\"/\")(lambda r: (\"200 OK\", \"test\"))\n\n    result = benchmark(router.registry.match, \"/\", \"GET\")\n    handler, params, _ = result\n    assert handler is not None\n\n\ndef test_parameter_extraction(benchmark):\n    \"\"\"Benchmark path parameter extraction.\"\"\"\n    router = Router()\n    router.get(\"/user/{id}\")(lambda r: (\"200 OK\", \"test\"))\n\n    result = benchmark(router.registry.match, \"/user/123\", \"GET\")\n    handler, params, _ = result\n    assert params[\"id\"] == \"123\"\n\n\ndef test_large_route_table(benchmark):\n    \"\"\"Benchmark with many routes.\"\"\"\n    router = Router()\n    for i in range(100):\n        router.get(f\"/route{i}\")(lambda r: (\"200 OK\", \"test\"))\n\n    result = benchmark(router.registry.match, \"/route50\", \"GET\")\n    handler, params, _ = result\n    assert handler is not None\n\n\ndef test_complex_patterns(benchmark):\n    \"\"\"Benchmark complex route patterns.\"\"\"\n    router = Router()\n    router.get(\"/api/v1/users/{user_id}/posts/{post_id}/comments/{comment_id}\")(\n         lambda r: (\"200 OK\", \"test\"))\n\n    result = benchmark(\n        router.registry.match,\n        \"/api/v1/users/123/posts/456/comments/789\",\n        \"GET\"\n    )\n    handler, params, _ = result\n    assert len(params) == 3\n</code></pre>"},{"location":"dev/benchmarks/#request-parsing","title":"Request Parsing","text":"<p>Test request parsing performance:</p> <pre><code>\"\"\"Benchmark request parsing.\"\"\"\nimport pytest\nfrom wiverno.core.requests import Request\n\n\ndef test_basic_request_parsing(benchmark):\n    \"\"\"Benchmark basic request creation.\"\"\"\n    environ = {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/\",\n        \"QUERY_STRING\": \"\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n    }\n\n    request = benchmark(Request, environ)\n    assert request.method == \"GET\"\n\n\ndef test_query_param_parsing(benchmark):\n    \"\"\"Benchmark query parameter parsing.\"\"\"\n    environ = {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/search\",\n        \"QUERY_STRING\": \"q=python&amp;page=1&amp;limit=10\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n    }\n\n    request = benchmark(Request, environ)\n    assert len(request.query_params) == 3\n\n\ndef test_header_parsing(benchmark):\n    \"\"\"Benchmark header parsing.\"\"\"\n    environ = {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/\",\n        \"QUERY_STRING\": \"\",\n        \"HTTP_USER_AGENT\": \"Mozilla/5.0\",\n        \"HTTP_ACCEPT\": \"text/html\",\n        \"HTTP_ACCEPT_LANGUAGE\": \"en-US\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n    }\n\n    request = benchmark(Request, environ)\n    assert len(request.headers) &gt;= 3\n</code></pre>"},{"location":"dev/benchmarks/#application-performance","title":"Application Performance","text":"<p>Test full request-response cycle:</p> <pre><code>\"\"\"Benchmark full application.\"\"\"\nimport pytest\nfrom wiverno.main import Wiverno\n\n\ndef test_simple_request_cycle(benchmark):\n    \"\"\"Benchmark complete request-response cycle.\"\"\"\n    def index(request):\n        return \"200 OK\", \"Hello, World!\"\n\n    app = Wiverno()\n    app.get(\"/\")(index)\n\n    environ = {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/\",\n        \"QUERY_STRING\": \"\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n    }\n\n    response_data = []\n\n    def start_response(status, headers):\n        response_data.append((status, headers))\n\n    def run_request():\n        return list(app(environ, start_response))\n\n    response = benchmark(run_request)\n    assert response_data[0][0] == \"200 OK\"\n\n\ndef test_parameterized_request(benchmark):\n    \"\"\"Benchmark request with path parameters.\"\"\"\n    def user_view(request):\n        user_id = request.path_params.get(\"id\")\n        return \"200 OK\", f\"User {user_id}\"\n\n    app = Wiverno()\n    app.get(\"/user/{id}\")(user_view)\n\n    environ = {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/user/123\",\n        \"QUERY_STRING\": \"\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n    }\n\n    response_data = []\n\n    def start_response(status, headers):\n        response_data.append((status, headers))\n\n    def run_request():\n        return list(app(environ, start_response))\n\n    response = benchmark(run_request)\n    assert b\"User 123\" in response[0]\n</code></pre>"},{"location":"dev/benchmarks/#performance-metrics","title":"Performance Metrics","text":""},{"location":"dev/benchmarks/#current-performance","title":"Current Performance","text":"<p>Target metrics (as of v0.1.2):</p> Operation Target Actual Simple routing &lt; 10\u03bcs ~8\u03bcs Parameter extraction &lt; 15\u03bcs ~12\u03bcs Request parsing &lt; 20\u03bcs ~18\u03bcs Full request cycle &lt; 50\u03bcs ~45\u03bcs Template rendering &lt; 100\u03bcs ~90\u03bcs"},{"location":"dev/benchmarks/#comparison-with-other-frameworks","title":"Comparison with Other Frameworks","text":"<p>Relative performance (lower is better):</p> Framework Requests/sec Relative Speed Wiverno 22,000 1.0x (baseline) Flask 18,000 0.82x FastAPI 25,000 1.14x Starlette 28,000 1.27x <p>Note: Benchmarks vary based on hardware and test conditions.</p>"},{"location":"dev/benchmarks/#profiling","title":"Profiling","text":""},{"location":"dev/benchmarks/#cpu-profiling","title":"CPU Profiling","text":"<p>Profile CPU usage:</p> <pre><code># Install profiling tools\nuv pip install py-spy\n\n# Profile running server\npy-spy record -o profile.svg -- python app.py\n\n# View flamegraph\nopen profile.svg\n</code></pre>"},{"location":"dev/benchmarks/#memory-profiling","title":"Memory Profiling","text":"<p>Profile memory usage:</p> <pre><code># Install memory profiler\nuv pip install memory_profiler\n\n# Run with profiling\npython -m memory_profiler app.py\n</code></pre>"},{"location":"dev/benchmarks/#line-by-line-profiling","title":"Line-by-line Profiling","text":"<p>Profile specific functions:</p> <pre><code>from memory_profiler import profile\n\n@profile\ndef my_function():\n    \"\"\"Function to profile.\"\"\"\n    # Your code here\n    pass\n</code></pre>"},{"location":"dev/benchmarks/#optimization-strategies","title":"Optimization Strategies","text":""},{"location":"dev/benchmarks/#1-route-table-optimization","title":"1. Route Table Optimization","text":"<p>Order routes by frequency:</p> <pre><code># Good - Frequent routes first\nroutes = [\n    (\"/\", index),           # Most common\n    (\"/api/users\", users),  # Common\n    (\"/admin/debug\", debug), # Rare\n]\n\n# Bad - Rare routes first\nroutes = [\n    (\"/admin/debug\", debug),\n    (\"/api/users\", users),\n    (\"/\", index),\n]\n</code></pre>"},{"location":"dev/benchmarks/#2-request-parsing","title":"2. Request Parsing","text":"<p>Parse data lazily:</p> <pre><code>class Request:\n    @property\n    def query_params(self):\n        \"\"\"Parse query params on first access.\"\"\"\n        if not hasattr(self, \"_query_params\"):\n            self._query_params = parse_qs(self.query_string)\n        return self._query_params\n</code></pre>"},{"location":"dev/benchmarks/#3-template-caching","title":"3. Template Caching","text":"<p>Jinja2 automatically caches compiled templates. No action needed.</p>"},{"location":"dev/benchmarks/#4-static-file-serving","title":"4. Static File Serving","text":"<p>Use nginx or CDN for static files in production:</p> <pre><code>location /static/ {\n    alias /path/to/static/;\n    expires 30d;\n}\n</code></pre>"},{"location":"dev/benchmarks/#5-response-compression","title":"5. Response Compression","text":"<p>Use middleware for compression:</p> <pre><code>class GzipMiddleware:\n    \"\"\"Compress responses with gzip.\"\"\"\n\n    def __init__(self, app):\n        self.app = app\n\n    def __call__(self, environ, start_response):\n        # Implement gzip compression\n        pass\n</code></pre>"},{"location":"dev/benchmarks/#load-testing","title":"Load Testing","text":""},{"location":"dev/benchmarks/#using-apache-bench","title":"Using Apache Bench","text":"<pre><code># Install apache bench\n# Ubuntu: apt-get install apache2-utils\n# macOS: included by default\n\n# Run load test\nab -n 10000 -c 100 http://localhost:8000/\n\n# Results:\n# Requests per second: 2000 [#/sec]\n# Time per request: 50 [ms]\n</code></pre>"},{"location":"dev/benchmarks/#using-wrk","title":"Using wrk","text":"<pre><code># Install wrk\n# Ubuntu: apt-get install wrk\n# macOS: brew install wrk\n\n# Run load test\nwrk -t 4 -c 100 -d 30s http://localhost:8000/\n\n# Results:\n# Thread Stats   Avg      Stdev     Max   +/- Stdev\n#   Latency     5.00ms    2.00ms   50.00ms   95.00%\n#   Req/Sec     5.00k     1.00k    7.00k    75.00%\n# 600000 requests in 30.00s, 100.00MB read\n# Requests/sec:  20000.00\n</code></pre>"},{"location":"dev/benchmarks/#using-locust","title":"Using locust","text":"<pre><code># locustfile.py\nfrom locust import HttpUser, task, between\n\nclass WivernoUser(HttpUser):\n    \"\"\"Simulate user behavior.\"\"\"\n\n    wait_time = between(1, 3)\n\n    @task\n    def index(self):\n        \"\"\"Load homepage.\"\"\"\n        self.client.get(\"/\")\n\n    @task(3)\n    def api_users(self):\n        \"\"\"Load API endpoint (3x more frequent).\"\"\"\n        self.client.get(\"/api/users\")\n</code></pre> <p>Run:</p> <pre><code># Install locust\nuv pip install locust\n\n# Run load test\nlocust -f locustfile.py --host=http://localhost:8000\n</code></pre>"},{"location":"dev/benchmarks/#continuous-benchmarking","title":"Continuous Benchmarking","text":"<p>Track performance over time:</p> <pre><code># Baseline benchmark\nuv run pytest tests/benchmark/ --benchmark-save=baseline\n\n# After changes\nuv run pytest tests/benchmark/ --benchmark-compare=baseline\n\n# View comparison\n# If slower, investigate changes\n# If faster, celebrate! \ud83c\udf89\n</code></pre>"},{"location":"dev/benchmarks/#profiling_1","title":"Profiling","text":"<p>Profile code to identify bottlenecks:</p> <pre><code>import cProfile\nimport pstats\nfrom io import StringIO\n\npr = cProfile.Profile()\npr.enable()\n\n# Code to profile\nrouter.match(\"/route50\")\n\npr.disable()\ns = StringIO()\nps = pstats.Stats(pr, stream=s).sort_stats('cumulative')\nps.print_stats(10)\nprint(s.getvalue())\n</code></pre>"},{"location":"dev/benchmarks/#optimization-tips","title":"Optimization Tips","text":"<ol> <li>Order routes by frequency (frequent routes first)</li> <li>Use caching for computed values</li> <li>Return early when possible</li> <li>Parse data lazily (on first access)</li> <li>Use appropriate data structures (dict vs list)</li> <li>Compile templates once, reuse many times</li> <li>Use middleware for cross-cutting concerns</li> </ol>"},{"location":"dev/benchmarks/#next-steps","title":"Next Steps","text":"<ul> <li>Testing - Write comprehensive tests</li> <li>Contributing - Contribute improvements</li> </ul>"},{"location":"dev/code-style/","title":"Code Style Guide","text":"<p>Code standards for Wiverno development.</p>"},{"location":"dev/code-style/#naming-conventions","title":"Naming Conventions","text":"Item Convention Example Module/File snake_case <code>request_parser.py</code> Class PascalCase <code>RequestParser</code> Function/Method snake_case <code>parse_request()</code> Constant UPPER_SNAKE_CASE <code>MAX_SIZE = 1000</code> Private _leading_underscore <code>_internal_method()</code> Magic __double_underscore <code>__init__()</code>"},{"location":"dev/code-style/#type-hints","title":"Type Hints","text":"<p>Always add type hints (required by mypy strict mode):</p> <pre><code># Good - Full types\ndef process_data(data: dict[str, str]) -&gt; list[str]:\n    return list(data.keys())\n\n# Good - Union types with |\ndef get_value(key: str) -&gt; int | None:\n    return None\n\n# Good - Complex types\nfrom typing import TypeVar\nT = TypeVar(\"T\")\ndef container(value: T) -&gt; T:\n    return value\n</code></pre> <p>Wiverno-specific types:</p> <pre><code>from wiverno.core.requests import Request\nfrom wiverno.main import Wiverno\n\ndef handler(request: Request) -&gt; tuple[str, str]:\n    return \"200 OK\", \"response\"\n\ndef app_setup(app: Wiverno) -&gt; None:\n    @app.get(\"/\")\n    def index(request: Request) -&gt; tuple[str, str]:\n        return \"200 OK\", \"Home\"\n</code></pre>"},{"location":"dev/code-style/#docstrings","title":"Docstrings","text":"<p>Use Google style docstrings:</p> <pre><code>def process_request(request: Request, timeout: int = 30) -&gt; tuple[str, str]:\n    \"\"\"Process an incoming HTTP request.\n\n    Args:\n        request: The HTTP request object.\n        timeout: Request timeout in seconds.\n\n    Returns:\n        Tuple of (status_code, response_body).\n    \"\"\"\n    return \"200 OK\", \"processed\"\n</code></pre>"},{"location":"dev/code-style/#import-organization","title":"Import Organization","text":"<pre><code>from __future__ import annotations\n\nimport os\nfrom io import BytesIO\nfrom typing import TypeVar\n\nfrom jinja2 import Environment\n\nfrom wiverno.core.requests import Request\nfrom wiverno.main import Wiverno\n</code></pre> <p>Order: <code>__future__</code>, standard library, third-party, local imports</p>"},{"location":"dev/code-style/#file-organization","title":"File Organization","text":"<pre><code>\"\"\"Module docstring.\"\"\"\n\nimport required_modules\nfrom relative_imports import something\n\n# Constants\nMAX_SIZE = 1000\n\n# Type variables\nT = TypeVar(\"T\")\n\n# Classes\nclass MyClass:\n    pass\n\n# Functions\ndef my_function() -&gt; None:\n    pass\n\n# Main block\nif __name__ == \"__main__\":\n    pass\n</code></pre>"},{"location":"dev/code-style/#comments","title":"Comments","text":"<p>Use comments sparingly - prefer clear code:</p> <pre><code># Bad - Obvious comment\nx = 1  # Set x to 1\n\n# Good - Explains why\ncached_routes = {}  # Cache for O(1) route lookup instead of O(n)\n</code></pre>"},{"location":"dev/code-style/#error-handling","title":"Error Handling","text":"<pre><code># Good - Specific exceptions\ntry:\n    data = json.loads(body)\nexcept json.JSONDecodeError as e:\n    raise ValueError(f\"Invalid JSON: {e}\") from e\n\n# Bad - Too broad\ntry:\n    data = json.loads(body)\nexcept Exception:\n    pass\n</code></pre>"},{"location":"dev/code-style/#code-quality-targets","title":"Code Quality Targets","text":"<ul> <li>Line length: &lt; 100 characters (enforced by Ruff)</li> <li>Type coverage: 100% (enforced by mypy strict)</li> <li>Complexity: Keep functions simple and focused</li> <li>Duplication: DRY principle - don't repeat code</li> </ul>"},{"location":"dev/code-style/#next-steps","title":"Next Steps","text":"<ul> <li>Linting - Code quality tools</li> <li>Type Hints - Detailed type annotations</li> <li>Testing - Writing tests</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"dev/contributing/","title":"Contributing to Wiverno","text":""},{"location":"dev/contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>Report bugs</li> <li>Suggest features</li> <li>Improve documentation</li> <li>Write tests</li> <li>Fix bugs</li> <li>Add features</li> </ul>"},{"location":"dev/contributing/#getting-started","title":"Getting Started","text":"<ol> <li> <p>Fork the repository: https://github.com/Sayrrexe/Wiverno</p> </li> <li> <p>Clone your fork:</p> </li> </ol> <pre><code>git clone https://github.com/YOUR_USERNAME/Wiverno.git\ncd Wiverno\n</code></pre> <ol> <li>Set up environment:</li> </ol> <pre><code>uv pip install -e \".[dev]\"\npre-commit install\n</code></pre> <ol> <li>Create a branch:</li> </ol> <pre><code>git checkout -b feature/name    # For features\ngit checkout -b fix/name        # For bug fixes\ngit checkout -b docs/name       # For docs\n</code></pre>"},{"location":"dev/contributing/#development-process","title":"Development Process","text":"<ol> <li>Write code with tests</li> <li>Run checks:</li> </ol> <pre><code>make check  # Format + lint + typecheck + test\n</code></pre> <ol> <li>Commit with descriptive message:</li> </ol> <pre><code>git commit -m \"feat: add new feature\"\ngit commit -m \"fix: resolve issue\"\ngit commit -m \"docs: clarify readme\"\n</code></pre> <ol> <li>Push to your fork:</li> </ol> <pre><code>git push origin your-branch\n</code></pre> <ol> <li>Create Pull Request on GitHub with description</li> </ol>"},{"location":"dev/contributing/#pr-requirements","title":"PR Requirements","text":"<ul> <li>All tests passing</li> <li>Coverage &gt; 50%</li> <li>Code formatted (ruff format)</li> <li>No linting errors (ruff check)</li> <li>Types checked (mypy)</li> <li>Tests added for new code</li> </ul>"},{"location":"dev/contributing/#code-standards","title":"Code Standards","text":"<ul> <li>Descriptive test names: <code>test_router_matches_exact_path()</code></li> <li>Google style docstrings</li> <li>Type hints required</li> <li>Comments for complex logic</li> </ul>"},{"location":"dev/contributing/#questions","title":"Questions?","text":"<p>Ask in: - GitHub Issues for bugs/features - GitHub Discussions for questions</p>"},{"location":"dev/contributing/#code-of-conduct","title":"Code of Conduct","text":"<p>Be respectful and constructive in all interactions.</p>"},{"location":"dev/linting/","title":"Linting and Code Quality","text":"<p>Code quality tools and commands for Wiverno.</p>"},{"location":"dev/linting/#ruff","title":"Ruff","text":"<p>Fast Python linter and formatter.</p>"},{"location":"dev/linting/#commands","title":"Commands","text":"<pre><code>uv run ruff check .              # Check for issues\nuv run ruff check --fix .        # Fix automatically\nuv run ruff format .             # Format code\nuv run ruff check wiverno/core/  # Check specific folder\n</code></pre>"},{"location":"dev/linting/#rules","title":"Rules","text":"Code Rule E pycodestyle errors W pycodestyle warnings F pyflakes (undefined names, etc) I isort (import sorting) B flake8-bugbear (common bugs) C4 flake8-comprehensions UP pyupgrade (modern syntax) S flake8-bandit (security) <p>Configuration: <code>pyproject.toml</code> - line-length: 100 characters, Python 3.12 target</p>"},{"location":"dev/linting/#mypy","title":"MyPy","text":"<p>Static type checker for strict mode enforcement.</p>"},{"location":"dev/linting/#commands_1","title":"Commands","text":"<pre><code>uv run mypy wiverno              # Check all files\nuv run mypy wiverno/core/routing/router.py  # Check specific file\nuv run mypy --show-error-codes wiverno  # Show error codes\n</code></pre> <p>Configuration: <code>pyproject.toml</code> - strict mode enabled</p>"},{"location":"dev/linting/#pre-commit","title":"Pre-commit","text":"<p>Git hooks for automated checks before commits.</p>"},{"location":"dev/linting/#setup","title":"Setup","text":"<pre><code>pre-commit install              # Install hooks\npre-commit run --all-files      # Run on all files\npre-commit autoupdate           # Update to latest\n</code></pre> <p>Checks:</p> <ol> <li>Ruff linting</li> <li>Ruff formatting</li> <li>MyPy type checking</li> <li>Trailing whitespace</li> <li>End of file newline</li> </ol>"},{"location":"dev/linting/#quick-checklist","title":"Quick Checklist","text":"<p>Before commit:</p> <pre><code>uv run ruff format .           # Format\nuv run ruff check .            # Lint\nuv run mypy wiverno            # Type check\nuv run pytest                  # Tests\n</code></pre>"},{"location":"dev/linting/#common-fixes","title":"Common Fixes","text":"<p>Import sorting (Ruff I):</p> <pre><code># Good order: __future__, stdlib, third-party, local\nfrom __future__ import annotations\nimport os\nfrom jinja2 import Environment\nfrom wiverno.core.routing import router\n</code></pre> <p>Line length (E501) - max 100 chars:</p> <pre><code># Break long lines\nresult = some_function(\n    arg1, arg2, arg3,\n)\n</code></pre> <p>Unused imports (F401):</p> <pre><code># Remove unused imports\nfrom pathlib import Path  # Good - used\n# from os import environ  # Bad - unused\n</code></pre> <p>Type annotations (ANN):</p> <pre><code># Always type functions\ndef process(data: dict[str, str]) -&gt; list[str]:\n    return list(data.keys())\n</code></pre>"},{"location":"dev/linting/#next-steps","title":"Next Steps","text":"<ul> <li>Code Style - Code standards</li> <li>Type Hints - Type annotations</li> <li>Testing - Writing tests</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"dev/project-structure/","title":"Project Structure","text":"<p>File organization in Wiverno.</p>"},{"location":"dev/project-structure/#directory-tree","title":"Directory Tree","text":"<pre><code>Wiverno/\n\u251c\u2500\u2500 .github/               # GitHub Actions workflows\n\u251c\u2500\u2500 docs/                  # Documentation\n\u2502   \u251c\u2500\u2500 api/              # API reference\n\u2502   \u251c\u2500\u2500 dev/              # Developer docs\n\u2502   \u2514\u2500\u2500 guide/            # User guides\n\u251c\u2500\u2500 tests/                # Test suite\n\u2502   \u251c\u2500\u2500 unit/             # Unit tests\n\u2502   \u251c\u2500\u2500 integration/      # Integration tests\n\u2502   \u2514\u2500\u2500 benchmark/        # Performance tests\n\u251c\u2500\u2500 wiverno/              # Main package\n\u2502   \u251c\u2500\u2500 core/             # Core functionality\n\u2502   \u251c\u2500\u2500 dev/              # Development tools\n\u2502   \u251c\u2500\u2500 static/           # Static assets\n\u2502   \u251c\u2500\u2500 templating/       # Template engine\n\u2502   \u251c\u2500\u2500 views/            # View classes\n\u2502   \u2514\u2500\u2500 __init__.py\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .pre-commit-config.yaml\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 mkdocs.yml            # Documentation config\n\u2514\u2500\u2500 pyproject.toml        # Project config\n</code></pre>"},{"location":"dev/project-structure/#modules","title":"Modules","text":""},{"location":"dev/project-structure/#wivernocore","title":"wiverno/core/","text":"<p>Core framework functionality:</p> File Purpose <code>requests.py</code> Request parsing and handling <code>routing/router.py</code> Route matching and registration <code>server.py</code> WSGI server wrapper"},{"location":"dev/project-structure/#wivernotemplating","title":"wiverno/templating/","text":"<p>Template rendering:</p> File Purpose <code>templator.py</code> Jinja2 template wrapper"},{"location":"dev/project-structure/#wivernoviews","title":"wiverno/views/","text":"<p>View classes and error handlers:</p> File Purpose <code>base_views.py</code> BaseView class-based views <code>pages_errors.py</code> Default 404/405/500 handlers"},{"location":"dev/project-structure/#wivernodev","title":"wiverno/dev/","text":"<p>Development utilities:</p> File Purpose <code>dev_server.py</code> Dev server with hot reload"},{"location":"dev/project-structure/#root-level","title":"Root Level","text":"File Purpose <code>main.py</code> Wiverno WSGI application <code>cli.py</code> CLI interface (Typer-based)"},{"location":"dev/project-structure/#tests","title":"tests/","text":"<p>Test organization:</p> <ul> <li><code>unit/</code> - Fast isolated tests</li> <li><code>integration/</code> - Multi-component tests</li> <li><code>benchmark/</code> - Performance tests</li> <li><code>conftest.py</code> - Shared test fixtures</li> </ul>"},{"location":"dev/project-structure/#key-files","title":"Key Files","text":"File Purpose <code>pyproject.toml</code> Dependencies, config, tools <code>mkdocs.yml</code> Documentation configuration <code>.pre-commit-config.yaml</code> Pre-commit hooks <code>Makefile</code> Development commands <code>README.md</code> Project overview"},{"location":"dev/project-structure/#next-steps","title":"Next Steps","text":"<ul> <li>Architecture - Component details</li> <li>Testing - Writing tests</li> <li>Workflow - Development process</li> <li>Contributing - How to contribute</li> </ul>"},{"location":"dev/setup/","title":"Development Setup","text":""},{"location":"dev/setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+</li> <li>Git</li> <li>uv (recommended)</li> </ul>"},{"location":"dev/setup/#installation","title":"Installation","text":"<p>Install Python 3.12+:</p> <pre><code>python --version\n</code></pre> <p>Install uv:</p> <pre><code># Windows\npowershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"\n\n# macOS/Linux\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n</code></pre> <p>Clone and setup:</p> <pre><code>git clone https://github.com/YOUR_USERNAME/Wiverno.git\ncd Wiverno\nuv venv\nsource .venv/bin/activate  # macOS/Linux\n.venv\\Scripts\\activate     # Windows\nuv pip install -e \".[dev]\"\npre-commit install\n</code></pre>"},{"location":"dev/setup/#verify-installation","title":"Verify Installation","text":"<pre><code>uv run pytest\nuv run ruff check .\nuv run mypy wiverno\n</code></pre>"},{"location":"dev/setup/#main-commands","title":"Main Commands","text":"<pre><code>make dev              # Install dev dependencies\nmake test             # Run tests\nmake coverage         # Tests with coverage\nmake format           # Format code\nmake lint             # Check code quality\nmake typecheck        # Type checking\nmake check            # All checks\nmake docs-serve       # Serve documentation\nwiverno run dev       # Dev server\n</code></pre>"},{"location":"dev/setup/#development-server","title":"Development Server","text":"<pre><code>wiverno run dev\nwiverno run dev --host 0.0.0.0 --port 5000\n</code></pre>"},{"location":"dev/setup/#next-steps","title":"Next Steps","text":"<ul> <li>Testing - Writing tests</li> <li>Code Style - Code standards</li> <li>Linting - Code quality</li> <li>Type Hints - Type annotations</li> <li>Architecture - Understanding codebase</li> <li>Contributing - How to contribute</li> </ul>"},{"location":"dev/testing/","title":"Testing","text":"<p>Comprehensive guide to testing in Wiverno.</p>"},{"location":"dev/testing/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run with verbose output\nuv run pytest -v\n\n# Run specific test file\nuv run pytest tests/unit/test_router.py\n\n# Run specific test\nuv run pytest tests/unit/test_router.py::test_name\n\n# Run with coverage\nuv run pytest --cov=wiverno\n\n# Generate HTML coverage report\nuv run pytest --cov=wiverno --cov-report=html\n\n# Run benchmarks\nuv run pytest tests/benchmark/ --benchmark-only\n</code></pre>"},{"location":"dev/testing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py          # Shared fixtures\n\u251c\u2500\u2500 unit/                # Unit tests\n\u251c\u2500\u2500 integration/         # Integration tests\n\u2514\u2500\u2500 benchmark/           # Performance tests\n</code></pre>"},{"location":"dev/testing/#writing-tests","title":"Writing Tests","text":""},{"location":"dev/testing/#unit-test-example","title":"Unit Test Example","text":"<pre><code>import pytest\nfrom wiverno.core.routing.router import Router\n\ndef test_basic_route_matching():\n    \"\"\"Test basic route matching works.\"\"\"\n    def view(request):\n        return \"200 OK\", \"test\"\n\n    router = Router()\n    router.get(\"/test\")(view)\n    handler, params, _ = router.registry.match(\"/test\", \"GET\")\n\n    assert handler is view\n    assert params == {}\n</code></pre>"},{"location":"dev/testing/#integration-test-example","title":"Integration Test Example","text":"<pre><code>from wiverno.main import Wiverno\n\ndef test_full_request_cycle():\n    \"\"\"Test complete request-response cycle.\"\"\"\n    def index(request):\n        return \"200 OK\", \"Hello\"\n\n    app = Wiverno()\n    app.get(\"/\")(index)\n\n    environ = {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n    }\n\n    response_status = []\n    def start_response(status, headers):\n        response_status.append(status)\n\n    response = app(environ, start_response)\n    body = b\"\".join(response)\n\n    assert response_status[0] == \"200 OK\"\n    assert body == b\"Hello\"\n</code></pre>"},{"location":"dev/testing/#benchmark-test-example","title":"Benchmark Test Example","text":"<pre><code>import pytest\nfrom wiverno.core.routing.router import Router\n\ndef test_router_performance(benchmark):\n    \"\"\"Benchmark router matching speed.\"\"\"\n    router = Router()\n    for i in range(100):\n        router.get(f\"/route{i}\")(lambda r: (\"200 OK\", \"\"))\n\n    def match_route():\n        return router.match(\"/route50\")\n\n    result = benchmark(match_route)\n    assert result[0] is not None\n</code></pre>"},{"location":"dev/testing/#wsgi-testing","title":"WSGI Testing","text":"<p>Test WSGI applications directly:</p> <pre><code>environ = {\n    \"REQUEST_METHOD\": \"GET\",\n    \"PATH_INFO\": \"/\",\n    \"QUERY_STRING\": \"\",\n    \"wsgi.url_scheme\": \"http\",\n    \"SERVER_NAME\": \"localhost\",\n    \"SERVER_PORT\": \"8000\",\n}\n\nresponse_status = []\ndef start_response(status, headers):\n    response_status.append(status)\n\nresponse = app(environ, start_response)\nbody = b\"\".join(response)\nassert response_status[0] == \"200 OK\"\n</code></pre> <p>Test POST with JSON:</p> <pre><code>import json\n\nbody = json.dumps({\"name\": \"Alice\"}).encode()\nenviron = {\n    \"REQUEST_METHOD\": \"POST\",\n    \"PATH_INFO\": \"/users\",\n    \"CONTENT_TYPE\": \"application/json\",\n    \"CONTENT_LENGTH\": str(len(body)),\n    \"wsgi.input\": __import__(\"io\").BytesIO(body),\n    \"wsgi.url_scheme\": \"http\",\n    \"SERVER_NAME\": \"localhost\",\n    \"SERVER_PORT\": \"8000\",\n}\n\nresponse_status = []\ndef start_response(status, headers):\n    response_status.append(status)\n\nresponse = app(environ, start_response)\nassert response_status[0] == \"201 CREATED\"\n</code></pre>"},{"location":"dev/testing/#conftestpy-example","title":"conftest.py Example","text":"<p>Shared fixtures for all tests:</p> <pre><code>import io\nimport pytest\nfrom wiverno.core.requests import Request\nfrom wiverno.main import Wiverno\n\n\n@pytest.fixture\ndef basic_environ():\n    \"\"\"Minimal WSGI environment.\"\"\"\n    return {\n        \"REQUEST_METHOD\": \"GET\",\n        \"PATH_INFO\": \"/\",\n        \"QUERY_STRING\": \"\",\n        \"CONTENT_TYPE\": \"\",\n        \"CONTENT_LENGTH\": \"0\",\n        \"wsgi.url_scheme\": \"http\",\n        \"SERVER_NAME\": \"localhost\",\n        \"SERVER_PORT\": \"8000\",\n        \"HTTP_HOST\": \"localhost:8000\",\n    }\n\n\n@pytest.fixture\ndef environ_factory():\n    \"\"\"Factory for creating WSGI environments.\"\"\"\n    def _create_environ(\n        method=\"GET\",\n        path=\"/\",\n        body=b\"\",\n        headers=None,\n    ):\n        environ = {\n            \"REQUEST_METHOD\": method,\n            \"PATH_INFO\": path,\n            \"CONTENT_LENGTH\": str(len(body)),\n            \"wsgi.input\": io.BytesIO(body),\n            \"wsgi.url_scheme\": \"http\",\n            \"SERVER_NAME\": \"localhost\",\n            \"SERVER_PORT\": \"8000\",\n        }\n        if headers:\n            for key, value in headers.items():\n                wsgi_key = f\"HTTP_{key.upper().replace('-', '_')}\"\n                environ[wsgi_key] = value\n        return environ\n    return _create_environ\n\n\n@pytest.fixture\ndef app():\n    \"\"\"Fresh Wiverno application.\"\"\"\n    return Wiverno()\n</code></pre>"},{"location":"dev/testing/#best-practices","title":"Best Practices","text":"<p>Use descriptive test names: <code>test_router_matches_exact_path()</code></p> <p>Follow Arrange-Act-Assert pattern:</p> <pre><code>def test_something():\n    # Arrange - Setup\n    router = Router([(\"/test\", view)])\n\n    # Act - Execute\n    result = router.match(\"/test\")\n\n    # Assert - Verify\n    assert result is not None\n</code></pre> <p>Use parametrize for multiple cases:</p> <pre><code>@pytest.mark.parametrize(\"path,expected\", [\n    (\"/\", True),\n    (\"/about\", True),\n    (\"/404\", False),\n])\ndef test_route_exists(path, expected):\n    router = Router([(\"/\", view), (\"/about\", view)])\n    handler, _ = router.match(path)\n    assert (handler is not None) == expected\n</code></pre>"},{"location":"dev/testing/#debugging","title":"Debugging","text":"<p>Print debugging: <code>uv run pytest -s</code></p> <p>Using breakpoint: <code>import pdb; pdb.set_trace()</code></p> <p>Common flags:</p> <ul> <li><code>-x</code> - Stop on first failure</li> <li><code>-v</code> - Verbose output</li> <li><code>-s</code> - Show print output</li> <li><code>--lf</code> - Run last failed tests</li> </ul>"},{"location":"dev/testing/#pytest-configuration","title":"Pytest Configuration","text":"<p>Configuration in <code>pyproject.toml</code>:</p> <pre><code>[tool.pytest.ini_options]\nminversion = \"8.0\"\ntestpaths = [\"tests\"]\naddopts = [\n    \"-ra\",\n    \"--strict-markers\",\n    \"--cov=wiverno\",\n    \"--cov-report=term-missing\",\n    \"--cov-fail-under=50\",\n]\n\nmarkers = [\n    \"unit: unit tests\",\n    \"integration: integration tests\",\n    \"benchmark: performance tests\",\n]\n</code></pre> <p>Test markers:</p> <pre><code>uv run pytest -m unit          # Run only unit tests\nuv run pytest -m integration   # Run only integration tests\nuv run pytest -m \"not slow\"    # Skip slow tests\n</code></pre>"},{"location":"dev/testing/#coverage","title":"Coverage","text":"<p>Coverage requirement: minimum 50%</p> <pre><code># Generate HTML report\nuv run pytest --cov=wiverno --cov-report=html\n\n# View coverage\nopen htmlcov/index.html\n</code></pre>"},{"location":"dev/testing/#next-steps","title":"Next Steps","text":"<ul> <li>Code Style - Code standards</li> <li>Linting - Code quality</li> <li>Type Hints - Type annotations</li> <li>Architecture - Understanding codebase</li> <li>Contributing - How to contribute</li> </ul>"},{"location":"dev/type-hints/","title":"Type Hints","text":"<p>Type annotation requirements for Wiverno.</p>"},{"location":"dev/type-hints/#mypy-strict-mode","title":"MyPy Strict Mode","text":"<p>Enabled in <code>pyproject.toml</code>:</p> <pre><code>[tool.mypy]\npython_version = \"3.12\"\nwarn_return_any = true\ndisallow_untyped_defs = true\ncheck_untyped_defs = true\n</code></pre> <p>All functions must have complete type annotations.</p>"},{"location":"dev/type-hints/#core-rules","title":"Core Rules","text":"<ol> <li>All functions require types: Parameters and return values</li> <li>Use modern syntax: <code>list[str]</code> not <code>List[str]</code></li> <li>Union types with <code>|</code>: <code>int | None</code> not <code>Optional[int]</code></li> <li>No <code>Any</code> type: Use specific types or TypeVar</li> <li>Generic classes: Use TypeVar for reusable components</li> <li>Accurate returns: Match actual return values</li> </ol>"},{"location":"dev/type-hints/#common-patterns","title":"Common Patterns","text":"<p>Basic function:</p> <pre><code>def add(a: int, b: int) -&gt; int:\n    return a + b\n</code></pre> <p>Optional return:</p> <pre><code>def find_item(items: list[str], name: str) -&gt; str | None:\n    for item in items:\n        if item == name:\n            return item\n    return None\n</code></pre> <p>Complex types:</p> <pre><code>from typing import TypeVar, Generic\n\nT = TypeVar(\"T\")\n\ndef process(data: dict[str, list[int]]) -&gt; list[str]:\n    return list(data.keys())\n\nclass Container(Generic[T]):\n    def __init__(self, value: T) -&gt; None:\n        self.value = value\n\n    def get(self) -&gt; T:\n        return self.value\n</code></pre>"},{"location":"dev/type-hints/#wiverno-types","title":"Wiverno Types","text":"<p>Request handling:</p> <pre><code>from wiverno.core.requests import Request\nfrom wiverno.main import Wiverno\n\ndef handler(request: Request) -&gt; tuple[str, str]:\n    return \"200 OK\", \"response body\"\n\ndef setup_app(app: Wiverno) -&gt; None:\n    @app.get(\"/\")\n    def index(request: Request) -&gt; tuple[str, str]:\n        return \"200 OK\", \"Home\"\n</code></pre> <p>WSGI types:</p> <pre><code>from typing import Callable\n\n# WSGI environ dict\nenviron: dict[str, str]\n\n# WSGI start_response callable\nStartResponse = Callable[[str, list[tuple[str, str]]], None]\n\n# WSGI application signature\ndef app(environ: dict[str, str], start_response: StartResponse) -&gt; list[bytes]:\n    pass\n</code></pre>"},{"location":"dev/type-hints/#checking","title":"Checking","text":"<p>Run mypy:</p> <pre><code>uv run mypy wiverno\n</code></pre> <p>Fix type errors:</p> <pre><code>uv run mypy --show-error-codes wiverno\nuv run mypy wiverno/core/routing/router.py  # Check specific file\n</code></pre>"},{"location":"dev/type-hints/#next-steps","title":"Next Steps","text":"<ul> <li>Code Style - Code standards</li> <li>Linting - Code quality tools</li> <li>Testing - Writing tests</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"dev/workflow/","title":"Development Workflow","text":"<p>Development process for Wiverno.</p>"},{"location":"dev/workflow/#steps","title":"Steps","text":"<ol> <li>Write code - Create features/fix bugs</li> <li>Test - <code>uv run pytest</code> (&gt;50% coverage required)</li> <li>Format - <code>uv run ruff format .</code></li> <li>Lint - <code>uv run ruff check .</code></li> <li>Type check - <code>uv run mypy wiverno</code></li> <li>Commit - <code>git commit</code> (pre-commit hooks run)</li> <li>Push - <code>git push</code></li> <li>Pull request - Create PR on GitHub</li> </ol>"},{"location":"dev/workflow/#quick-commands","title":"Quick Commands","text":"<pre><code>make test            # Run tests\nmake format          # Format code\nmake lint            # Check code quality\nmake typecheck       # Type checking\nmake check           # All checks (format + lint + typecheck + test)\n</code></pre>"},{"location":"dev/workflow/#pre-commit-flow","title":"Pre-commit Flow","text":"<p>When you run <code>git commit</code>:</p> <ol> <li>Ruff linting</li> <li>Ruff formatting</li> <li>MyPy type checking</li> <li>Trailing whitespace removal</li> <li>EOF newline check</li> </ol> <p>If any check fails, fix it and commit again.</p>"},{"location":"dev/workflow/#development-server","title":"Development Server","text":"<pre><code>wiverno run dev              # Start server\nwiverno run dev --port 5000  # Custom port\n</code></pre> <p>Auto-reload on code changes.</p>"},{"location":"dev/workflow/#testing-during-development","title":"Testing During Development","text":"<pre><code># Run all tests\nuv run pytest\n\n# Run with verbose output\nuv run pytest -v\n\n# Run specific test\nuv run pytest tests/unit/test_router.py::test_name\n\n# Run and stop on first failure\nuv run pytest -x\n\n# Run only unit tests\nuv run pytest -m unit\n\n# Generate coverage report\nuv run pytest --cov=wiverno --cov-report=html\n</code></pre>"},{"location":"dev/workflow/#common-tasks","title":"Common Tasks","text":""},{"location":"dev/workflow/#adding-a-new-feature","title":"Adding a New Feature","text":"<ol> <li>Create feature branch: <code>git checkout -b feature/name</code></li> <li>Write code with tests</li> <li>Run checks: <code>make check</code></li> <li>Commit: <code>git commit -m \"feat: description\"</code></li> <li>Push and create PR</li> </ol>"},{"location":"dev/workflow/#fixing-a-bug","title":"Fixing a Bug","text":"<ol> <li>Create fix branch: <code>git checkout -b fix/name</code></li> <li>Write failing test</li> <li>Fix code</li> <li>Run checks: <code>make check</code></li> <li>Commit: <code>git commit -m \"fix: description\"</code></li> <li>Push and create PR</li> </ol>"},{"location":"dev/workflow/#running-all-checks","title":"Running All Checks","text":"<pre><code>make check\n</code></pre> <p>Runs:</p> <ul> <li>Format check</li> <li>Linting</li> <li>Type checking</li> <li>Tests (with coverage)</li> </ul>"},{"location":"dev/workflow/#next-steps","title":"Next Steps","text":"<ul> <li>Testing - Writing tests</li> <li>Code Style - Code standards</li> <li>Linting - Code quality</li> <li>Contributing - Contribution guidelines</li> </ul>"},{"location":"guide/","title":"User Guide","text":"<p>Welcome to the Wiverno User Guide! This guide will help you understand and use all the features of the Wiverno framework.</p>"},{"location":"guide/#table-of-contents","title":"Table of Contents","text":""},{"location":"guide/#getting-started","title":"Getting Started","text":"<p>Start here if you're new to Wiverno:</p> <ul> <li>Installation - How to install Wiverno</li> <li>Quickstart - Your first Wiverno application</li> <li>Project Structure - How to organize your Wiverno project</li> </ul>"},{"location":"guide/#core-concepts","title":"Core Concepts","text":"<p>Learn the fundamental concepts of Wiverno:</p> <ul> <li>Routing - Define URL patterns and handlers</li> <li>Requests - Handle incoming HTTP requests</li> </ul>"},{"location":"guide/#advanced-topics","title":"Advanced Topics","text":"<p>Take your Wiverno skills to the next level:</p> <ul> <li>Class-Based Views - Organize your code with class-based views</li> <li>Templates - Render HTML with Jinja2</li> <li>CLI - Use the command-line interface</li> </ul>"},{"location":"guide/#philosophy","title":"Philosophy","text":"<p>Wiverno is designed with the following principles in mind:</p>"},{"location":"guide/#simplicity-first","title":"Simplicity First","text":"<p>Wiverno aims to be easy to learn and use. The API is intentionally small and focused on the essentials.</p> <pre><code># Simple routing\napp = Wiverno()\n\n@app.get(\"/\")\ndef index(request):\n    return \"200 OK\", \"Hello, World!\"\n\n@app.get(\"/about\")\ndef about(request):\n    return \"200 OK\", \"About\"\n</code></pre>"},{"location":"guide/#explicit-over-implicit","title":"Explicit Over Implicit","text":"<p>Wiverno prefers explicit configuration over magic. You always know what's happening:</p> <pre><code># Explicit status codes and content\ndef view(request):\n    return \"200 OK\", \"Hello, World!\"\n</code></pre>"},{"location":"guide/#flexibility","title":"Flexibility","text":"<p>Wiverno doesn't force you into a specific way of doing things. Use what you need, ignore what you don't:</p> <pre><code># Function-based views\ndef simple_view(request):\n    return \"200 OK\", \"Simple\"\n\n# Or class-based views\nclass ComplexView(BaseView):\n    def get(self, request):\n        return \"200 OK\", \"Complex\"\n</code></pre>"},{"location":"guide/#next-steps","title":"Next Steps","text":"<p>Ready to get started? Head over to the Installation guide to set up Wiverno, or jump straight to the Quickstart to build your first application!</p>"},{"location":"guide/cli/","title":"CLI Commands","text":"<p>Complete guide to Wiverno's command-line interface.</p>"},{"location":"guide/cli/#overview","title":"Overview","text":"<p>Wiverno provides a powerful CLI for managing your application development, testing, and deployment. All commands are available through the <code>wiverno</code> command.</p>"},{"location":"guide/cli/#quick-reference","title":"Quick Reference","text":"<pre><code>wiverno run dev              # Start development server\nwiverno run prod             # Start production server\nwiverno docs                 # Serve documentation\nwiverno help                 # Show help\n</code></pre>"},{"location":"guide/cli/#server-commands","title":"Server Commands","text":""},{"location":"guide/cli/#development-server","title":"Development Server","text":"<p>Start a development server with hot reload:</p> <pre><code># Basic usage\nwiverno run dev\n\n# Custom port\nwiverno run dev --port 3000\n\n# Custom host (listen on all interfaces)\nwiverno run dev --host 0.0.0.0\n\n# Custom app location\nwiverno run dev --app-module myapp --app-name application\n\n# Watch specific directories\nwiverno run dev --watch src,lib\n</code></pre> <p>Options:</p> <ul> <li><code>--host, -h</code> - Server host address (default: <code>localhost</code>)</li> <li><code>--port, -p</code> - Server port number (default: <code>8000</code>)</li> <li><code>--app-module, -m</code> - Module containing the WSGI app (default: <code>run</code>)</li> <li><code>--app-name, -a</code> - Name of the app variable (default: <code>app</code>)</li> <li><code>--watch, -w</code> - Comma-separated directories to watch</li> </ul> <p>Example:</p> <pre><code># run.py\nfrom wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef index(request):\n    return \"200 OK\", \"Hello, World!\"\n</code></pre> <p>Run:</p> <pre><code>wiverno run dev\n</code></pre> <p>The server will automatically reload when you modify Python files.</p>"},{"location":"guide/cli/#production-server","title":"Production Server","text":"<p>Start a production server without hot reload:</p> <pre><code># Basic usage\nwiverno run prod\n\n# Custom configuration\nwiverno run prod --host 0.0.0.0 --port 8080\n\n# Custom app location\nwiverno run prod --app-module myapp --app-name application\n</code></pre> <p>Options:</p> <ul> <li><code>--host, -h</code> - Server host address (default: <code>localhost</code>)</li> <li><code>--port, -p</code> - Server port number (default: <code>8000</code>)</li> <li><code>--app-module, -m</code> - Module containing the WSGI app (default: <code>run</code>)</li> <li><code>--app-name, -a</code> - Name of the app variable (default: <code>app</code>)</li> </ul> <p>Note: For production deployment, consider using a production WSGI server like:</p> <ul> <li>Gunicorn: <code>gunicorn app:app</code></li> <li>uWSGI: <code>uwsgi --http :8000 --wsgi-file app.py --callable app</code></li> <li>Waitress: <code>waitress-serve --port=8000 app:app</code></li> </ul>"},{"location":"guide/cli/#documentation-commands","title":"Documentation Commands","text":""},{"location":"guide/cli/#serve-documentation","title":"Serve Documentation","text":"<p>Start a documentation server with live reload:</p> <pre><code># Default (opens in browser)\nwiverno docs\n\n# Custom port\nwiverno docs --port 3000\n\n# Custom host\nwiverno docs --host 0.0.0.0\n\n# Don't open browser\nwiverno docs --no-open\n</code></pre> <p>Options:</p> <ul> <li><code>--host, -h</code> - Documentation server host (default: <code>127.0.0.1</code>)</li> <li><code>--port, -p</code> - Documentation server port (default: <code>8000</code>)</li> <li><code>--open/--no-open</code> - Open browser automatically (default: <code>True</code>)</li> </ul> <p>Example:</p> <pre><code>wiverno docs --port 8001\n</code></pre> <p>Opens documentation at <code>http://127.0.0.1:8001</code></p> <p>Note: To build or deploy documentation, use the Makefile:</p> <pre><code>make docs        # Build static documentation\nmake docs-deploy # Deploy to GitHub Pages\n</code></pre>"},{"location":"guide/cli/#help-command","title":"Help Command","text":"<p>Show comprehensive help and usage examples:</p> <pre><code>wiverno help\n</code></pre> <p>Displays:</p> <ul> <li>Available commands</li> <li>Command descriptions</li> <li>Usage examples</li> <li>Quick reference</li> </ul>"},{"location":"guide/cli/#environment-variables","title":"Environment Variables","text":"<p>Configure Wiverno behavior with environment variables:</p> <pre><code># Development server\nexport WIVERNO_HOST=0.0.0.0\nexport WIVERNO_PORT=5000\nexport WIVERNO_DEBUG=true\n\n# Documentation\nexport WIVERNO_DOCS_PORT=8001\n</code></pre>"},{"location":"guide/cli/#configuration-files","title":"Configuration Files","text":""},{"location":"guide/cli/#pyprojecttoml","title":"pyproject.toml","text":"<p>Project configuration:</p> <pre><code>[project]\nname = \"myapp\"\nversion = \"0.1.0\"\n\n[project.scripts]\nmyapp = \"myapp.cli:main\"\n</code></pre>"},{"location":"guide/cli/#mkdocsyml","title":"mkdocs.yml","text":"<p>Documentation configuration (required for <code>wiverno docs</code>):</p> <pre><code>site_name: My Application\ntheme:\n  name: material\n\nnav:\n  - Home: index.md\n  - Guide: guide.md\n</code></pre>"},{"location":"guide/cli/#common-workflows","title":"Common Workflows","text":""},{"location":"guide/cli/#local-development","title":"Local Development","text":"<pre><code># Start development server\nwiverno run dev\n\n# In another terminal, serve docs\nwiverno docs --port 8001\n</code></pre>"},{"location":"guide/cli/#building-for-production","title":"Building for Production","text":"<pre><code># Test production mode locally\nwiverno run prod\n\n# Build documentation (use Makefile)\nmake docs\n\n# Deploy everything\nmake docs-deploy\n</code></pre>"},{"location":"guide/cli/#cicd-pipeline","title":"CI/CD Pipeline","text":"<pre><code># Install dependencies\nuv pip install -e .[dev]\n\n# Run tests\npytest\n\n# Build docs (use Makefile)\nmake docs\n\n# Deploy (on main branch)\nmake docs-deploy\n</code></pre>"},{"location":"guide/cli/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/cli/#module-not-found","title":"Module Not Found","text":"<pre><code>ERROR: Module 'run.py' not found in current directory.\n</code></pre> <p>Solution: Make sure you're in the project root or specify the correct module:</p> <pre><code>wiverno run dev --app-module myapp\n</code></pre>"},{"location":"guide/cli/#application-not-found","title":"Application Not Found","text":"<pre><code>ERROR: Application 'app' not found in module 'run'\n</code></pre> <p>Solution: Check that your module has the correct variable name:</p> <pre><code># run.py\nfrom wiverno.main import Wiverno\n\napp = Wiverno()  # Must match --app-name\n</code></pre> <p>Or specify the correct name:</p> <pre><code>wiverno run dev --app-name application\n</code></pre>"},{"location":"guide/cli/#port-already-in-use","title":"Port Already in Use","text":"<pre><code>ERROR: Address already in use\n</code></pre> <p>Solution: Use a different port:</p> <pre><code>wiverno run dev --port 3000\n</code></pre>"},{"location":"guide/cli/#mkdocs-not-installed","title":"MkDocs Not Installed","text":"<pre><code>ERROR: MkDocs is not installed.\n</code></pre> <p>Solution: Install documentation dependencies:</p> <pre><code>uv pip install mkdocs-material mkdocstrings[python]\n</code></pre> <p>Or install all dev dependencies:</p> <pre><code>uv pip install -e .[dev]\n</code></pre>"},{"location":"guide/cli/#mkdocsyml-not-found","title":"mkdocs.yml Not Found","text":"<pre><code>ERROR: mkdocs.yml not found in current directory.\n</code></pre> <p>Solution: Create <code>mkdocs.yml</code> in your project root:</p> <pre><code>site_name: My Project\ntheme:\n  name: material\nnav:\n  - Home: index.md\n</code></pre>"},{"location":"guide/cli/#advanced-usage","title":"Advanced Usage","text":""},{"location":"guide/cli/#custom-module-structure","title":"Custom Module Structure","text":"<pre><code># For this structure:\n# myproject/\n#   myapp/\n#     __init__.py\n#     application.py  # contains 'wsgi_app'\n\nwiverno run dev --app-module myapp.application --app-name wsgi_app\n</code></pre>"},{"location":"guide/cli/#multiple-applications","title":"Multiple Applications","text":"<pre><code># Development app\nwiverno run dev --port 8000 --app-name dev_app\n\n# Admin app (in another terminal)\nwiverno run dev --port 8001 --app-name admin_app\n</code></pre>"},{"location":"guide/cli/#docker-integration","title":"Docker Integration","text":"<pre><code>FROM python:3.12-slim\n\nWORKDIR /app\nCOPY . .\nRUN pip install .\n\nCMD [\"wiverno\", \"run\", \"prod\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"guide/cli/#shell-completion","title":"Shell Completion","text":"<p>Enable shell completion (future feature):</p> <pre><code># Bash\nwiverno --install-completion bash\n\n# Zsh\nwiverno --install-completion zsh\n\n# PowerShell\nwiverno --install-completion powershell\n</code></pre>"},{"location":"guide/cli/#see-also","title":"See Also","text":"<ul> <li>Development Setup - Set up development environment</li> <li>Testing - Running tests</li> <li>Workflow - Development workflow</li> </ul>"},{"location":"guide/installation/","title":"Installation","text":"<p>This guide will help you install Wiverno and set up your development environment.</p>"},{"location":"guide/installation/#requirements","title":"Requirements","text":"<p>Wiverno requires Python 3.12 or higher. Make sure you have a compatible Python version installed:</p> <pre><code>python --version\n</code></pre>"},{"location":"guide/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"guide/installation/#using-pip-recommended","title":"Using pip (Recommended)","text":"<p>The easiest way to install Wiverno is using pip:</p> <pre><code>pip install wiverno\n</code></pre>"},{"location":"guide/installation/#from-source","title":"From Source","text":"<p>To install the latest development version from GitHub:</p> <pre><code>git clone https://github.com/Sayrrexe/Wiverno.git\ncd Wiverno\npip install .\n</code></pre>"},{"location":"guide/installation/#development-installation","title":"Development Installation","text":"<p>If you want to contribute to Wiverno or modify the source code, install in editable mode with development dependencies:</p> <pre><code>git clone https://github.com/Sayrrexe/Wiverno.git\ncd Wiverno\npip install -e \".[dev]\"\n</code></pre> <p>This will install Wiverno with all development tools including:</p> <ul> <li>pytest - for running tests</li> <li>ruff - for linting and formatting</li> <li>mypy - for type checking</li> <li>mkdocs-material - for building documentation</li> <li>and more...</li> </ul>"},{"location":"guide/installation/#using-uv-modern-alternative","title":"Using uv (Modern Alternative)","text":"<p>If you're using uv for dependency management:</p> <pre><code>uv pip install wiverno\n</code></pre> <p>For development:</p> <pre><code>uv pip install -e \".[dev]\"\n</code></pre>"},{"location":"guide/installation/#virtual-environments","title":"Virtual Environments","text":"<p>It's highly recommended to use a virtual environment to isolate your project dependencies.</p>"},{"location":"guide/installation/#using-venv","title":"Using venv","text":"<pre><code># Create a virtual environment\npython -m venv venv\n\n# Activate it (Windows)\nvenv\\Scripts\\activate\n\n# Activate it (Unix/macOS)\nsource venv/bin/activate\n\n# Install Wiverno\npip install wiverno\n</code></pre>"},{"location":"guide/installation/#using-uv","title":"Using uv","text":"<pre><code># Create a virtual environment with uv\nuv venv\n\n# Activate it (Windows)\n.venv\\Scripts\\activate\n\n# Activate it (Unix/macOS)\nsource .venv/bin/activate\n\n# Install Wiverno\nuv pip install wiverno\n</code></pre>"},{"location":"guide/installation/#verification","title":"Verification","text":"<p>After installation, verify that Wiverno is installed correctly:</p> <pre><code>python -c \"from wiverno.main import Wiverno; print('Wiverno imported successfully')\"\n</code></pre> <p>You can also check the CLI tool:</p> <pre><code>wiverno help\n</code></pre>"},{"location":"guide/installation/#optional-dependencies","title":"Optional Dependencies","text":"<p>Wiverno has minimal dependencies by default. The only required dependency is:</p> <ul> <li>Jinja2 (&gt;=3.1.6) - Template engine</li> </ul> <p>Development dependencies (optional):</p> <ul> <li>pytest - Testing framework</li> <li>pytest-cov - Coverage reporting</li> <li>pytest-benchmark - Performance benchmarking</li> <li>ruff - Linting and formatting</li> <li>mypy - Static type checking</li> <li>mkdocs-material - Documentation</li> <li>rich - Terminal formatting</li> <li>watchdog - File watching for auto-reload</li> </ul>"},{"location":"guide/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"guide/installation/#python-version-issues","title":"Python Version Issues","text":"<p>If you get an error about Python version:</p> <pre><code>ERROR: Package 'wiverno' requires a different Python: 3.11.0 not in '&gt;=3.12'\n</code></pre> <p>You need to upgrade to Python 3.12 or higher. Download the latest version from python.org.</p>"},{"location":"guide/installation/#permission-errors","title":"Permission Errors","text":"<p>If you get permission errors during installation, try:</p> <pre><code>pip install --user wiverno\n</code></pre> <p>Or use a virtual environment (recommended).</p>"},{"location":"guide/installation/#import-errors","title":"Import Errors","text":"<p>If you can't import Wiverno after installation:</p> <ol> <li>Make sure you're in the correct virtual environment</li> <li>Check that the installation completed successfully</li> <li>Try reinstalling: <code>pip install --force-reinstall wiverno</code></li> </ol>"},{"location":"guide/installation/#next-steps","title":"Next Steps","text":"<p>Now that you have Wiverno installed, head over to the Quickstart guide to create your first application!</p>"},{"location":"guide/project-structure/","title":"Project Structure","text":"<p>Learn how to organize your Wiverno application for maintainability and scalability.</p>"},{"location":"guide/project-structure/#minimal-structure","title":"Minimal Structure","text":"<p>For small applications, a simple single-file structure works well:</p> <pre><code>myapp/\n\u251c\u2500\u2500 run.py\n\u2514\u2500\u2500 templates/\n    \u2514\u2500\u2500 index.html\n</code></pre>"},{"location":"guide/project-structure/#recommended-structure","title":"Recommended Structure","text":"<p>For production applications, we recommend the following structure:</p> <pre><code>myproject/\n\u251c\u2500\u2500 run.py              # Application entry point\n\u251c\u2500\u2500 requirements.txt    # Dependencies\n\u251c\u2500\u2500 config.py          # Configuration\n\u251c\u2500\u2500 .env               # Environment variables\n\u251c\u2500\u2500 templates/         # Jinja2 templates\n\u2502   \u251c\u2500\u2500 base.html\n\u2502   \u251c\u2500\u2500 index.html\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 static/            # Static files\n\u2502   \u251c\u2500\u2500 css/\n\u2502   \u251c\u2500\u2500 js/\n\u2502   \u2514\u2500\u2500 images/\n\u251c\u2500\u2500 views/             # View functions/classes\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 home.py\n\u2502   \u251c\u2500\u2500 api.py\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 models/            # Data models (if using a database)\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 user.py\n\u251c\u2500\u2500 middleware/        # Custom middleware\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 auth.py\n\u2514\u2500\u2500 tests/             # Tests\n    \u251c\u2500\u2500 __init__.py\n    \u251c\u2500\u2500 test_views.py\n    \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"guide/project-structure/#file-by-file-breakdown","title":"File-by-File Breakdown","text":""},{"location":"guide/project-structure/#runpy","title":"run.py","text":"<p>The main entry point of your application:</p> <pre><code>\"\"\"Main application module.\"\"\"\nfrom wiverno.main import Wiverno\nfrom views.home import home_router\nfrom views.api import api_router\n\napp = Wiverno()\n\n# Include routers with prefixes\napp.include_router(home_router, prefix=\"\")\napp.include_router(api_router, prefix=\"/api\")\n</code></pre> <p>Run with:</p> <pre><code>wiverno run dev\n</code></pre>"},{"location":"guide/project-structure/#configpy","title":"config.py","text":"<p>Application configuration:</p> <pre><code>\"\"\"Application configuration.\"\"\"\nimport os\nfrom pathlib import Path\n\n# Base paths\nBASE_DIR = Path(__file__).parent\nTEMPLATE_DIR = BASE_DIR / \"templates\"\nSTATIC_DIR = BASE_DIR / \"static\"\n\n# Server configuration\nHOST = os.getenv(\"HOST\", \"localhost\")\nPORT = int(os.getenv(\"PORT\", 8000))\nDEBUG = os.getenv(\"DEBUG\", \"False\").lower() == \"true\"\n\n# Application settings\nSECRET_KEY = os.getenv(\"SECRET_KEY\", \"your-secret-key-here\")\n</code></pre>"},{"location":"guide/project-structure/#viewshomepy","title":"views/home.py","text":"<p>View functions organized by feature using Router:</p> <pre><code>\"\"\"Home page views.\"\"\"\nfrom wiverno.core.routing.router import Router\nfrom wiverno.templating.templator import Templator\n\nhome_router = Router()\ntemplator = Templator()\n\n@home_router.get(\"/\")\ndef index(request):\n    \"\"\"Homepage.\"\"\"\n    html = templator.render(\"index.html\", {\n        \"title\": \"Home\"\n    })\n    return \"200 OK\", html\n\n@home_router.get(\"/about\")\ndef about(request):\n    \"\"\"About page.\"\"\"\n    html = templator.render(\"about.html\", {\n        \"title\": \"About\"\n    })\n    return \"200 OK\", html\n</code></pre>"},{"location":"guide/project-structure/#viewsapipy","title":"views/api.py","text":"<p>API endpoints using Router:</p> <pre><code>\"\"\"API views.\"\"\"\nimport json\nfrom wiverno.core.routing.router import Router\n\napi_router = Router()\n\n@api_router.get(\"/users\")\ndef api_users(request):\n    \"\"\"Get all users.\"\"\"\n    users = [\n        {\"id\": 1, \"name\": \"Alice\"},\n        {\"id\": 2, \"name\": \"Bob\"},\n    ]\n    return \"200 OK\", json.dumps(users)\n\n@api_router.get(\"/users/&lt;id&gt;\")\ndef api_user_detail(request):\n    \"\"\"Get user by ID.\"\"\"\n    user_id = request.path_params.get(\"id\")\n    user = {\"id\": user_id, \"name\": \"User\"}\n    return \"200 OK\", json.dumps(user)\n</code></pre>"},{"location":"guide/project-structure/#scaling-your-application","title":"Scaling Your Application","text":""},{"location":"guide/project-structure/#blueprint-pattern","title":"Blueprint Pattern","text":"<p>For larger applications, organize views into blueprints using Router:</p> <pre><code># views/blog/__init__.py\n\"\"\"Blog blueprint.\"\"\"\nfrom wiverno.core.routing.router import Router\n\nblog_router = Router()\n\n@blog_router.get(\"/\")\ndef list_posts(request):\n    \"\"\"List all blog posts.\"\"\"\n    return \"200 OK\", \"Blog posts\"\n\n@blog_router.get(\"/&lt;slug&gt;\")\ndef post_detail(request):\n    \"\"\"Get single blog post.\"\"\"\n    slug = request.path_params.get(\"slug\")\n    return \"200 OK\", f\"Blog post {slug}\"\n\n# In app.py\nfrom wiverno.main import Wiverno\nfrom views.blog import blog_router\n\napp = Wiverno()\napp.include_router(blog_router, prefix=\"/blog\")\n```### Middleware Organization\n\n```python\n# middleware/auth.py\n\"\"\"Authentication middleware.\"\"\"\n\nclass AuthMiddleware:\n    \"\"\"Check authentication for protected routes.\"\"\"\n\n    def __init__(self, app):\n        self.app = app\n\n    def __call__(self, environ, start_response):\n        path = environ.get(\"PATH_INFO\", \"\")\n\n        # Check if path requires authentication\n        if path.startswith(\"/admin\"):\n            # Verify authentication\n            token = environ.get(\"HTTP_AUTHORIZATION\")\n            if not token:\n                start_response(\"401 Unauthorized\", [])\n                return [b\"Unauthorized\"]\n\n        return self.app(environ, start_response)\n</code></pre>"},{"location":"guide/project-structure/#environment-variables","title":"Environment Variables","text":"<p>Use <code>.env</code> file for sensitive configuration:</p> <pre><code># .env\nDEBUG=true\nSECRET_KEY=your-secret-key\nDATABASE_URL=sqlite:///db.sqlite3\nHOST=0.0.0.0\nPORT=8000\n</code></pre> <p>Load in your application:</p> <pre><code># run.py\nfrom dotenv import load_dotenv\nload_dotenv()\n</code></pre>"},{"location":"guide/project-structure/#testing-structure","title":"Testing Structure","text":"<p>Organize tests to mirror your application structure:</p> <pre><code>tests/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 conftest.py         # Pytest fixtures\n\u251c\u2500\u2500 test_app.py         # Application tests\n\u251c\u2500\u2500 views/\n\u2502   \u251c\u2500\u2500 test_home.py\n\u2502   \u2514\u2500\u2500 test_api.py\n\u2514\u2500\u2500 integration/\n    \u2514\u2500\u2500 test_full_flow.py\n</code></pre>"},{"location":"guide/project-structure/#next-steps","title":"Next Steps","text":"<ul> <li>Routing - Learn about advanced routing patterns</li> <li>Class-Based Views - Master view organization</li> <li>Templates - Template best practices</li> </ul>"},{"location":"guide/quickstart/","title":"Quickstart","text":"<p>This guide will help you create your first Wiverno application in just a few minutes.</p>"},{"location":"guide/quickstart/#prerequisites","title":"Prerequisites","text":"<p>Make sure you have installed Wiverno before continuing.</p>"},{"location":"guide/quickstart/#your-first-application","title":"Your First Application","text":"<p>Let's create a simple \"Hello, World!\" application.</p>"},{"location":"guide/quickstart/#step-1-create-a-python-file","title":"Step 1: Create a Python File","text":"<p>Create a new file called <code>run.py</code>:</p> <pre><code>from wiverno import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef index(request):\n    \"\"\"Homepage view function.\"\"\"\n    return \"200 OK\", \"Hello, World!\"\n</code></pre>"},{"location":"guide/quickstart/#step-2-run-the-application","title":"Step 2: Run the Application","text":"<p>Use the Wiverno CLI to start the development server:</p> <pre><code>wiverno run dev\n</code></pre> <p>You should see output like:</p> <pre><code>Starting development server on http://localhost:8000\nPress Ctrl+C to stop\n</code></pre>"},{"location":"guide/quickstart/#step-3-visit-the-application","title":"Step 3: Visit the Application","text":"<p>Open your browser and go to http://localhost:8000. You should see \"Hello, World!\".</p> <p>Congratulations! \ud83c\udf89 You've created your first Wiverno application!</p>"},{"location":"guide/quickstart/#adding-more-routes","title":"Adding More Routes","text":"<p>Let's expand the application with more routes using decorators:</p> <pre><code>from wiverno import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/\")\ndef index(request):\n    \"\"\"Homepage view.\"\"\"\n    return \"200 OK\", \"&lt;h1&gt;Hello, World!&lt;/h1&gt;\"\n\n@app.get(\"/about\")\ndef about(request):\n    \"\"\"About page view.\"\"\"\n    return \"200 OK\", \"&lt;h1&gt;About&lt;/h1&gt;&lt;p&gt;This is the about page&lt;/p&gt;\"\n\n@app.get(\"/users/{id:int}\")\ndef user_detail(request):\n    \"\"\"User detail with path parameter.\"\"\"\n    user_id = request.path_params[\"id\"]\n    return \"200 OK\", f\"&lt;h1&gt;User {user_id}&lt;/h1&gt;\"\n</code></pre> <p>Run with:</p> <pre><code>wiverno run dev\n</code></pre> <p>Now you can visit:</p> <ul> <li>http://localhost:8000/ - Homepage</li> <li>http://localhost:8000/about - About page</li> <li>http://localhost:8000/users/42 - User detail</li> </ul>"},{"location":"guide/quickstart/#handling-different-http-methods","title":"Handling Different HTTP Methods","text":"<p>You can handle different HTTP methods using method-specific decorators:</p> <pre><code>from wiverno import Wiverno\n\napp = Wiverno()\n\n@app.get(\"/users\")\ndef get_users(request):\n    \"\"\"Handle GET requests - list users.\"\"\"\n    return \"200 OK\", \"&lt;ul&gt;&lt;li&gt;User 1&lt;/li&gt;&lt;li&gt;User 2&lt;/li&gt;&lt;/ul&gt;\"\n\n@app.post(\"/users\")\ndef create_user(request):\n    \"\"\"Handle POST requests - create user.\"\"\"\n    name = request.data.get(\"name\", \"\")\n    return \"201 CREATED\", f\"&lt;p&gt;User {name} created&lt;/p&gt;\"\n\n@app.get(\"/users/{id:int}\")\ndef get_user(request):\n    \"\"\"Handle GET requests - get user by ID.\"\"\"\n    user_id = request.path_params[\"id\"]\n    return \"200 OK\", f\"&lt;h1&gt;User {user_id}&lt;/h1&gt;\"\n</code></pre> <p>Or use class-based views for better organization:</p> <pre><code>from wiverno.views.base_views import BaseView\nfrom wiverno import Wiverno\n\nclass UserView(BaseView):\n    \"\"\"Handle single user operations.\"\"\"\n\n    def get(self, request):\n        user_id = request.path_params[\"id\"]\n        return \"200 OK\", f\"&lt;h1&gt;User {user_id}&lt;/h1&gt;\"\n\n    def put(self, request):\n        user_id = request.path_params[\"id\"]\n        return \"200 OK\", f\"&lt;p&gt;User {user_id} updated&lt;/p&gt;\"\n\n    def delete(self, request):\n        return \"204 NO CONTENT\", \"\"\n\nclass UserListView(BaseView):\n    \"\"\"Handle user list operations.\"\"\"\n\n    def get(self, request):\n        return \"200 OK\", \"&lt;ul&gt;&lt;li&gt;User 1&lt;/li&gt;&lt;li&gt;User 2&lt;/li&gt;&lt;/ul&gt;\"\n\n    def post(self, request):\n        name = request.data.get(\"name\", \"\")\n        return \"201 CREATED\", f\"&lt;p&gt;User {name} created&lt;/p&gt;\"\n\napp = Wiverno()\napp.route(\"/users\")(UserListView())\napp.route(\"/users/{id:int}\")(UserView())\n</code></pre>"},{"location":"guide/quickstart/#using-templates","title":"Using Templates","text":"<p>Wiverno comes with built-in Jinja2 template support:</p>"},{"location":"guide/quickstart/#step-1-create-a-template","title":"Step 1: Create a Template","text":"<p>Create a <code>templates</code> directory and add <code>index.html</code>:</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;{{ title }}&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;{{ heading }}&lt;/h1&gt;\n    &lt;p&gt;{{ message }}&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"guide/quickstart/#step-2-render-the-template","title":"Step 2: Render the Template","text":"<pre><code>from wiverno.main import Wiverno\nfrom wiverno.templating.templator import Templator\n\n# Initialize template renderer\ntemplator = Templator(folder=\"templates\")\n\n@app.get(\"/\")\ndef index(request):\n    \"\"\"Homepage with template.\"\"\"\n    html = templator.render(\"index.html\", content={\n        \"title\": \"Welcome\",\n        \"heading\": \"Hello, Wiverno!\",\n        \"message\": \"This is a template-rendered page.\"\n    })\n    return \"200 OK\", html\n\napp = Wiverno()\n</code></pre>"},{"location":"guide/quickstart/#working-with-request-data","title":"Working with Request Data","text":""},{"location":"guide/quickstart/#path-parameters","title":"Path Parameters","text":"<pre><code>@app.get(\"/users/{id:int}\")\ndef user_detail(request):\n    \"\"\"Get user by ID from URL path.\"\"\"\n    user_id = request.path_params[\"id\"]  # Automatically converted to int\n    return \"200 OK\", f\"&lt;h1&gt;User {user_id}&lt;/h1&gt;\"\n\n@app.get(\"/posts/{slug}/comments/{comment_id:int}\")\ndef post_comment(request):\n    \"\"\"Multiple path parameters.\"\"\"\n    slug = request.path_params[\"slug\"]\n    comment_id = request.path_params[\"comment_id\"]\n    return \"200 OK\", f\"&lt;p&gt;Post: {slug}, Comment: {comment_id}&lt;/p&gt;\"\n</code></pre> <p>Visit: http://localhost:8000/users/42</p>"},{"location":"guide/quickstart/#query-parameters","title":"Query Parameters","text":"<pre><code>@app.get(\"/search\")\ndef search(request):\n    \"\"\"Search page with query parameters.\"\"\"\n    query = request.query_params.get(\"q\", \"\")\n    tags = request.query_params.getlist(\"tag\")  # Get multiple values\n    return \"200 OK\", f\"&lt;p&gt;Searching for: {query}, Tags: {', '.join(tags)}&lt;/p&gt;\"\n</code></pre> <p>Visit: http://localhost:8000/search?q=python&amp;tag=web&amp;tag=framework</p>"},{"location":"guide/quickstart/#post-data","title":"POST Data","text":"<pre><code>@app.route(\"/submit\", methods=[\"GET\", \"POST\"])\ndef submit(request):\n    \"\"\"Handle form submission.\"\"\"\n    if request.method == \"POST\":\n        # Access POST data\n        name = request.data.get(\"name\", \"\")\n        email = request.data.get(\"email\", \"\")\n        return \"200 OK\", f\"Received: {name} ({email})\"\n    return \"200 OK\", \"Send a POST request\"\n</code></pre>"},{"location":"guide/quickstart/#headers","title":"Headers","text":"<pre><code>@app.get(\"/headers\")\ndef headers_info(request):\n    \"\"\"Display request headers.\"\"\"\n    user_agent = request.headers.get(\"User-Agent\", \"Unknown\")\n    return \"200 OK\", f\"Your user agent: {user_agent}\"\n</code></pre>"},{"location":"guide/quickstart/#development-mode-with-auto-reload","title":"Development Mode with Auto-Reload","text":"<p>Always use the Wiverno CLI for development - it provides auto-reload:</p> <pre><code>wiverno run dev\n</code></pre> <p>The server will automatically reload when you make changes to your code. This is the recommended way to run your application during development.</p>"},{"location":"guide/quickstart/#configuration","title":"Configuration","text":"<p>You can configure the server with custom host and port using CLI options:</p> <pre><code># Custom host and port\nwiverno run dev --host 0.0.0.0 --port 5000 \n</code></pre> <p>And</p> <pre><code># Custom app and file names\nwiverno run dev --app-module myapp --app-name application\n</code></pre> <p>where: - <code>--app-module</code> \u2014 the name of the application module file - <code>--app-name</code> \u2014 the name of the main application variable in Wiverno</p> <p>For production, use a production WSGI server like gunicorn or waitress (see deployment docs).</p>"},{"location":"guide/quickstart/#next-steps","title":"Next Steps","text":"<p>Now that you've created your first Wiverno application, explore these topics:</p> <ul> <li>Routing - Learn more about URL routing</li> <li>Requests - Deep dive into request handling</li> </ul> <p>Happy coding!</p>"},{"location":"guide/requests/","title":"Requests","text":"<p>Understanding request handling in Wiverno.</p>"},{"location":"guide/requests/#overview","title":"Overview","text":"<p>The <code>Request</code> class provides access to all incoming HTTP request data including headers, query parameters, POST data, cookies, and more.</p>"},{"location":"guide/requests/#request-object","title":"Request Object","text":"<p>Every view function receives a <code>Request</code> object:</p> <pre><code>from wiverno.core.requests import Request\n\ndef my_view(request: Request) -&gt; tuple[str, str]:\n    \"\"\"View function with request parameter.\"\"\"\n    # Access request data here\n    return \"200 OK\", \"Response\"\n</code></pre>"},{"location":"guide/requests/#request-attributes","title":"Request Attributes","text":""},{"location":"guide/requests/#http-method","title":"HTTP Method","text":"<pre><code>def handle_request(request):\n    \"\"\"Check the HTTP method.\"\"\"\n    method = request.method  # \"GET\", \"POST\", \"PUT\", etc.\n\n    if request.method == \"GET\":\n        return \"200 OK\", \"GET request\"\n    elif request.method == \"POST\":\n        return \"201 CREATED\", \"POST request\"\n</code></pre>"},{"location":"guide/requests/#path-information","title":"Path Information","text":"<pre><code>def show_path(request):\n    \"\"\"Display request path.\"\"\"\n    path = request.path  # e.g., \"/users/123\"\n    return \"200 OK\", f\"&lt;p&gt;Path: {path}&lt;/p&gt;\"\n</code></pre>"},{"location":"guide/requests/#path-parameters","title":"Path Parameters","text":"<p>Extract parameters from dynamic URL segments:</p> <pre><code>@app.get(\"/users/{id:int}\")\ndef get_user(request):\n    \"\"\"Get user by ID from path parameter.\"\"\"\n    user_id = request.path_params[\"id\"]  # Already converted to int\n    return \"200 OK\", f\"&lt;h1&gt;User ID: {user_id}&lt;/h1&gt;\"\n\n@app.get(\"/posts/{slug}/comments/{comment_id:int}\")\ndef get_comment(request):\n    \"\"\"Get comment with multiple path parameters.\"\"\"\n    slug = request.path_params[\"slug\"]           # str\n    comment_id = request.path_params[\"comment_id\"]  # int\n    return \"200 OK\", f\"&lt;p&gt;Post: {slug}, Comment: {comment_id}&lt;/p&gt;\"\n\n@app.get(\"/files/{filepath:path}\")\ndef serve_file(request):\n    \"\"\"Path parameter can contain slashes.\"\"\"\n    filepath = request.path_params[\"filepath\"]  # e.g., \"docs/guide/intro.md\"\n    return \"200 OK\", f\"&lt;p&gt;File: {filepath}&lt;/p&gt;\"\n</code></pre> <p>Supported types: - <code>{name}</code> or <code>{name:str}</code> - String (default) - <code>{name:int}</code> - Integer (automatically converted) - <code>{name:float}</code> - Float (automatically converted) - <code>{name:path}</code> - Path (can contain slashes)</p>"},{"location":"guide/requests/#query-parameters","title":"Query Parameters","text":"<p>Parse query strings from GET requests using <code>QueryDict</code>:</p> <pre><code>def search(request):\n    \"\"\"Handle search with query parameters.\"\"\"\n    # URL: /search?q=python&amp;page=2&amp;limit=10\n\n    query = request.query_params.get(\"q\", \"\")         # \"python\"\n    page = request.query_params.get(\"page\", \"1\")      # \"2\"\n    limit = request.query_params.get(\"limit\", \"10\")   # \"10\"\n\n    return \"200 OK\", f\"&lt;p&gt;Search: {query}, Page: {page}&lt;/p&gt;\"\n</code></pre> <p>QueryDict supports both single and multiple values:</p> <pre><code>def search_with_tags(request):\n    \"\"\"Handle multiple query parameter values.\"\"\"\n    # URL: /search?q=python&amp;tag=web&amp;tag=framework&amp;tag=wsgi\n\n    # Get single value (first occurrence)\n    query = request.query_params.get(\"q\", \"\")  # \"python\"\n    query = request.query_params[\"q\"]          # Same, but raises KeyError if missing\n\n    # Get all values for a parameter\n    tags = request.query_params.getlist(\"tag\")  # [\"web\", \"framework\", \"wsgi\"]\n\n    # Get with default if not present\n    categories = request.query_params.getlist(\"category\", [\"general\"])  # [\"general\"]\n\n    return \"200 OK\", f\"&lt;p&gt;Query: {query}, Tags: {', '.join(tags)}&lt;/p&gt;\"\n</code></pre>"},{"location":"guide/requests/#post-data","title":"POST Data","text":"<p>Access form data and JSON from POST requests:</p> <pre><code>def handle_form(request):\n    \"\"\"Handle form submission.\"\"\"\n    if request.method == \"POST\":\n        # Access POST data\n        username = request.data.get(\"username\", \"\")\n        email = request.data.get(\"email\", \"\")\n        return \"200 OK\", f\"User: {username}, Email: {email}\"\n    \"\"\"\n</code></pre>"},{"location":"guide/requests/#json-data","title":"JSON Data","text":"<p>Handle JSON POST requests:</p> <pre><code>def api_create(request):\n    \"\"\"Handle JSON API request.\"\"\"\n    if request.method == \"POST\":\n        # POST data is automatically parsed from JSON\n        # Content-Type: application/json\n        data = request.data\n\n        name = data.get(\"name\")\n        age = data.get(\"age\")\n\n        return \"201 CREATED\", f'{{\"name\": \"{name}\", \"age\": {age}}}'\n</code></pre>"},{"location":"guide/requests/#headers","title":"Headers","text":"<p>Access HTTP headers:</p> <pre><code>def show_headers(request):\n    \"\"\"Display request headers.\"\"\"\n    headers = request.headers\n\n    user_agent = headers.get(\"User-Agent\", \"Unknown\")\n    content_type = headers.get(\"Content-Type\", \"\")\n    accept = headers.get(\"Accept\", \"\")\n\n    return \"200 OK\", f\"User-Agent: {user_agent}\"\n\n# Check for specific headers\ndef check_auth(request):\n    \"\"\"Check authorization header.\"\"\"\n    auth = request.headers.get(\"Authorization\", \"\")\n    if not auth:\n        return \"401 UNAUTHORIZED\", \"Missing auth\"\n    return \"200 OK\", \"Authorized\"\n</code></pre>"},{"location":"guide/requests/#cookies","title":"Cookies","text":"<p>Access request cookies:</p> <pre><code>def show_cookies(request):\n    \"\"\"Display cookies.\"\"\"\n    cookies = request.cookies\n\n    session_id = cookies.get(\"session_id\", \"\")\n    user_pref = cookies.get(\"preference\", \"default\")\n\n    return \"200 OK\", f\"Session: {session_id}\"\n</code></pre>"},{"location":"guide/requests/#raw-wsgi-environ","title":"Raw WSGI Environ","text":"<p>Access the raw WSGI environment:</p> <pre><code>def debug_info(request):\n    \"\"\"Show raw WSGI environ.\"\"\"\n    environ = request.environ\n\n    # Access any WSGI variable\n    server_name = environ.get(\"SERVER_NAME\")\n    server_port = environ.get(\"SERVER_PORT\")\n    scheme = environ.get(\"wsgi.url_scheme\")\n\n    return \"200 OK\", f\"Server: {server_name}:{server_port}\"\n</code></pre>"},{"location":"guide/requests/#request-body","title":"Request Body","text":""},{"location":"guide/requests/#reading-raw-body","title":"Reading Raw Body","text":"<p>Access raw request body:</p> <pre><code>def handle_raw_body(request):\n    \"\"\"Read raw request body.\"\"\"\n    # Get content length\n    content_length = int(request.environ.get(\"CONTENT_LENGTH\", 0))\n\n    if content_length &gt; 0:\n        # Read raw body\n        wsgi_input = request.environ.get(\"wsgi.input\")\n        raw_body = wsgi_input.read(content_length)\n\n        # Process raw bytes\n        # raw_body is bytes\n\n        return \"200 OK\", \"Body processed\"\n\n    return \"400 BAD REQUEST\", \"No body\"\n</code></pre>"},{"location":"guide/requests/#multipart-form-data","title":"Multipart Form Data","text":"<p>Handle file uploads:</p> <pre><code>def upload_file(request):\n    \"\"\"Handle file upload.\"\"\"\n    if request.method == \"POST\":\n        # Multipart form data is parsed automatically\n        # Content-Type: multipart/form-data\n\n        file_content = request.data.get(\"file\")\n        filename = request.data.get(\"filename\", \"upload.txt\")\n\n        # Save file or process content\n        # file_content is the file data\n\n        return \"200 OK\", f\"Uploaded: {filename}\"\n\n    return \"200 OK\", \"\"\"\n        &lt;form method=\"post\" enctype=\"multipart/form-data\"&gt;\n            &lt;input type=\"file\" name=\"file\"&gt;\n            &lt;button type=\"submit\"&gt;Upload&lt;/button&gt;\n        &lt;/form&gt;\n    \"\"\"\n</code></pre>"},{"location":"guide/requests/#content-types","title":"Content Types","text":"<p>Wiverno automatically handles different content types:</p>"},{"location":"guide/requests/#applicationx-www-form-urlencoded","title":"application/x-www-form-urlencoded","text":"<p>Standard HTML form submission:</p> <pre><code>def handle_form(request):\n    \"\"\"Handle URL-encoded form.\"\"\"\n    # Content-Type: application/x-www-form-urlencoded\n    username = request.data.get(\"username\")\n    password = request.data.get(\"password\")\n    return \"200 OK\", \"Form received\"\n</code></pre>"},{"location":"guide/requests/#applicationjson","title":"application/json","text":"<p>JSON API requests:</p> <pre><code>def api_endpoint(request):\n    \"\"\"Handle JSON request.\"\"\"\n    # Content-Type: application/json\n    data = request.data\n    # data is already a dict\n    return \"200 OK\", \"JSON received\"\n</code></pre>"},{"location":"guide/requests/#multipartform-data","title":"multipart/form-data","text":"<p>File uploads and mixed data:</p> <pre><code>def upload(request):\n    \"\"\"Handle multipart form.\"\"\"\n    # Content-Type: multipart/form-data; boundary=...\n    file_data = request.data.get(\"file\")\n    description = request.data.get(\"description\")\n    return \"200 OK\", \"Upload received\"\n</code></pre>"},{"location":"guide/requests/#request-parsing-utilities","title":"Request Parsing Utilities","text":"<p>Wiverno provides utility classes for parsing:</p>"},{"location":"guide/requests/#querydict","title":"QueryDict","text":"<p>The <code>QueryDict</code> class handles query parameters with support for multiple values:</p> <pre><code>from wiverno.core.requests import QueryDict\n\n# Parse query string\nquery_dict = QueryDict(\"name=John&amp;age=30&amp;tag=python&amp;tag=web\")\n\n# Get single values\nname = query_dict.get(\"name\")  # \"John\"\nage = query_dict[\"age\"]        # \"30\"\n\n# Get multiple values\ntags = query_dict.getlist(\"tag\")  # [\"python\", \"web\"]\n\n# Iteration (returns first value for each key)\nfor key in query_dict:\n    print(f\"{key}: {query_dict[key]}\")\n</code></pre>"},{"location":"guide/requests/#parsebody","title":"ParseBody","text":"<pre><code>from wiverno.core.requests import ParseBody\n\n# Parse POST body\nraw_data = b'{\"name\": \"John\"}'\nparams = ParseBody.get_request_params(environ, raw_data)\n</code></pre>"},{"location":"guide/requests/#headerparser","title":"HeaderParser","text":"<pre><code>from wiverno.core.requests import HeaderParser\n\n# Parse headers\nheaders = HeaderParser.get_headers(environ)\n</code></pre>"},{"location":"guide/requests/#common-patterns","title":"Common Patterns","text":""},{"location":"guide/requests/#check-request-method","title":"Check Request Method","text":"<pre><code>def resource(request):\n    \"\"\"Handle different HTTP methods.\"\"\"\n    if request.method == \"GET\":\n        return \"200 OK\", \"Get resource\"\n    elif request.method == \"POST\":\n        return \"201 CREATED\", \"Created resource\"\n    elif request.method == \"PUT\":\n        return \"200 OK\", \"Updated resource\"\n    elif request.method == \"DELETE\":\n        return \"204 NO CONTENT\", \"\"\n    else:\n        return \"405 METHOD NOT ALLOWED\", \"\"\n</code></pre>"},{"location":"guide/requests/#validate-input","title":"Validate Input","text":"<pre><code>def create_user(request):\n    \"\"\"Create user with validation.\"\"\"\n    if request.method != \"POST\":\n        return \"405 METHOD NOT ALLOWED\", \"\"\n\n    # Get data\n    username = request.data.get(\"username\", \"\").strip()\n    email = request.data.get(\"email\", \"\").strip()\n\n    # Validate\n    if not username:\n        return \"400 BAD REQUEST\", \"Username required\"\n    if not email:\n        return \"400 BAD REQUEST\", \"Email required\"\n    if \"@\" not in email:\n        return \"400 BAD REQUEST\", \"Invalid email\"\n\n    # Process\n    return \"201 CREATED\", f\"User {username} created\"\n</code></pre>"},{"location":"guide/requests/#parse-pagination","title":"Parse Pagination","text":"<pre><code>def list_items(request):\n    \"\"\"List items with pagination.\"\"\"\n    # Get page and limit from query\n    page = int(request.query_params.get(\"page\", \"1\"))\n    limit = int(request.query_params.get(\"limit\", \"10\"))\n\n    # Validate\n    if page &lt; 1:\n        page = 1\n    if limit &lt; 1 or limit &gt; 100:\n        limit = 10\n\n    # Calculate offset\n    offset = (page - 1) * limit\n\n    return \"200 OK\", f\"Page {page}, Limit {limit}, Offset {offset}\"\n</code></pre>"},{"location":"guide/requests/#handle-api-authentication","title":"Handle API Authentication","text":"<pre><code>def protected_endpoint(request):\n    \"\"\"Require API key.\"\"\"\n    api_key = request.headers.get(\"X-API-Key\", \"\")\n\n    if not api_key:\n        return \"401 UNAUTHORIZED\", '{\"error\": \"API key required\"}'\n\n    if api_key != \"secret-key\":\n        return \"403 FORBIDDEN\", '{\"error\": \"Invalid API key\"}'\n\n    # Authorized\n    return \"200 OK\", '{\"data\": \"protected data\"}'\n</code></pre>"},{"location":"guide/requests/#best-practices","title":"Best Practices","text":""},{"location":"guide/requests/#1-always-validate-input","title":"1. Always Validate Input","text":"<pre><code>def safe_handler(request):\n    \"\"\"Validate all input.\"\"\"\n    value = request.query_params.get(\"value\", \"\")\n\n    # Validate\n    if not value:\n        return \"400 BAD REQUEST\", \"Value required\"\n\n    # Sanitize\n    value = value.strip()[:100]  # Limit length\n\n    return \"200 OK\", f\"Value: {value}\"\n</code></pre>"},{"location":"guide/requests/#2-use-type-conversion-safely","title":"2. Use Type Conversion Safely","text":"<pre><code>def get_page(request):\n    \"\"\"Safe type conversion.\"\"\"\n    try:\n        page = int(request.query_params.get(\"page\", \"1\"))\n    except ValueError:\n        page = 1\n\n    # Ensure valid range\n    page = max(1, min(page, 1000))\n\n    return \"200 OK\", f\"Page {page}\"\n</code></pre>"},{"location":"guide/requests/#3-handle-missing-data","title":"3. Handle Missing Data","text":"<pre><code>def safe_access(request):\n    \"\"\"Use .get() with defaults.\"\"\"\n    # Good\n    name = request.query_params.get(\"name\", \"Guest\")\n\n    # Bad - may raise KeyError\n    # name = request.query_params[\"name\"]\n</code></pre>"},{"location":"guide/requests/#next-steps","title":"Next Steps","text":"<ul> <li>Routing - Define routes and handlers</li> <li>Class-Based Views - Organize with class-based views</li> <li>Templates - Render HTML templates</li> </ul>"},{"location":"guide/routing/","title":"Routing","text":"<p>Learn how to define and organize routes in your Wiverno application.</p>"},{"location":"guide/routing/#overview","title":"Overview","text":"<p>Wiverno provides flexible routing through decorators and explicit route lists. Routes map URL patterns to view functions or classes.</p>"},{"location":"guide/routing/#basic-routing","title":"Basic Routing","text":""},{"location":"guide/routing/#using-decorators-recommended","title":"Using Decorators (Recommended)","text":"<p>The recommended way to define routes is using decorators:</p> <pre><code>from wiverno.main import Wiverno\n\napp = Wiverno()\n\n@app.route(\"/\")\ndef index(request):\n    \"\"\"Homepage view.\"\"\"\n    return \"200 OK\", \"Welcome!\"\n\n@app.get(\"/users\")\ndef users_list(request):\n    \"\"\"List all users - GET only.\"\"\"\n    return \"200 OK\", \"User list\"\n\n@app.post(\"/users\")\ndef create_user(request):\n    \"\"\"Create user - POST only.\"\"\"\n    return \"201 CREATED\", \"User created\"\n</code></pre>"},{"location":"guide/routing/#http-methods","title":"HTTP Methods","text":""},{"location":"guide/routing/#method-specific-decorators","title":"Method-Specific Decorators","text":"<p>Wiverno provides decorators for common HTTP methods:</p> <pre><code>@app.get(\"/items\")\ndef list_items(request):\n    \"\"\"Handle GET requests.\"\"\"\n    return \"200 OK\", \"Items list\"\n\n@app.post(\"/items\")\ndef create_item(request):\n    \"\"\"Handle POST requests.\"\"\"\n    return \"201 CREATED\", \"Item created\"\n\n@app.put(\"/items\")\ndef update_item(request):\n    \"\"\"Handle PUT requests.\"\"\"\n    item_id = request.query_params.get(\"id\")\n    return \"200 OK\", f\"Updated item {item_id}\"\n\n@app.delete(\"/items\")\ndef delete_item(request):\n    \"\"\"Handle DELETE requests.\"\"\"\n    item_id = request.query_params.get(\"id\")\n    return \"204 NO CONTENT\", \"\"\n\n@app.patch(\"/items\")\ndef patch_item(request):\n    \"\"\"Handle PATCH requests.\"\"\"\n    return \"200 OK\", \"Item patched\"\n</code></pre>"},{"location":"guide/routing/#custom-method-lists","title":"Custom Method Lists","text":"<p>Specify allowed methods explicitly:</p> <pre><code>@app.route(\"/api/data\", methods=[\"GET\", \"POST\", \"PUT\"])\ndef handle_data(request):\n    \"\"\"Handle multiple HTTP methods.\"\"\"\n    if request.method == \"GET\":\n        return \"200 OK\", \"Data retrieved\"\n    elif request.method == \"POST\":\n        return \"201 CREATED\", \"Data created\"\n    elif request.method == \"PUT\":\n        return \"200 OK\", \"Data updated\"\n</code></pre>"},{"location":"guide/routing/#path-parameters","title":"Path Parameters","text":"<p>Wiverno supports dynamic path parameters with FastAPI-style syntax and automatic type conversion.</p>"},{"location":"guide/routing/#basic-path-parameters","title":"Basic Path Parameters","text":"<p>Define path parameters using curly braces:</p> <pre><code>@app.get(\"/users/{id}\")\ndef user_detail(request):\n    \"\"\"Get user by ID from path parameter.\"\"\"\n    user_id = request.path_params[\"id\"]  # String by default\n    return \"200 OK\", f\"&lt;h1&gt;User: {user_id}&lt;/h1&gt;\"\n\n# Usage: /users/123\n# request.path_params = {\"id\": \"123\"}\n</code></pre>"},{"location":"guide/routing/#typed-path-parameters","title":"Typed Path Parameters","text":"<p>Add type hints for automatic conversion:</p> <pre><code>@app.get(\"/users/{id:int}\")\ndef get_user(request):\n    \"\"\"Get user with integer ID.\"\"\"\n    user_id = request.path_params[\"id\"]  # Already converted to int\n    return \"200 OK\", f\"&lt;h1&gt;User ID: {user_id}&lt;/h1&gt;\"\n\n@app.get(\"/products/{price:float}\")\ndef get_product_by_price(request):\n    \"\"\"Get products by price.\"\"\"\n    price = request.path_params[\"price\"]  # Already converted to float\n    return \"200 OK\", f\"&lt;p&gt;Price: ${price:.2f}&lt;/p&gt;\"\n\n# Usage: /users/123 -&gt; user_id = 123 (int)\n# Usage: /products/19.99 -&gt; price = 19.99 (float)\n</code></pre>"},{"location":"guide/routing/#supported-parameter-types","title":"Supported Parameter Types","text":"<ul> <li><code>{name}</code> - String parameter (default, matches <code>[^/]+</code>)</li> <li><code>{name:str}</code> - Explicit string parameter</li> <li><code>{name:int}</code> - Integer parameter (matches <code>[0-9]+</code>)</li> <li><code>{name:float}</code> - Float parameter (matches <code>[0-9]+\\.?[0-9]*</code>)</li> <li><code>{name:path}</code> - Path parameter (matches <code>.+</code>, includes slashes)</li> </ul>"},{"location":"guide/routing/#multiple-path-parameters","title":"Multiple Path Parameters","text":"<p>Combine multiple parameters in one route:</p> <pre><code>@app.get(\"/posts/{slug}/comments/{comment_id:int}\")\ndef get_comment(request):\n    \"\"\"Get comment from specific post.\"\"\"\n    slug = request.path_params[\"slug\"]           # str\n    comment_id = request.path_params[\"comment_id\"]  # int\n    return \"200 OK\", f\"&lt;p&gt;Post: {slug}, Comment: {comment_id}&lt;/p&gt;\"\n\n# Usage: /posts/hello-world/comments/42\n# request.path_params = {\"slug\": \"hello-world\", \"comment_id\": 42}\n</code></pre>"},{"location":"guide/routing/#path-parameter-for-file-paths","title":"Path Parameter for File Paths","text":"<p>Use <code>:path</code> type to capture paths with slashes:</p> <pre><code>@app.get(\"/files/{filepath:path}\")\ndef serve_file(request):\n    \"\"\"Serve file from nested path.\"\"\"\n    filepath = request.path_params[\"filepath\"]  # Can contain slashes\n    return \"200 OK\", f\"&lt;p&gt;File: {filepath}&lt;/p&gt;\"\n\n# Usage: /files/docs/guide/intro.md\n# request.path_params = {\"filepath\": \"docs/guide/intro.md\"}\n</code></pre>"},{"location":"guide/routing/#using-query-parameters","title":"Using Query Parameters","text":"<p>Query parameters work alongside path parameters:</p> <pre><code>@app.get(\"/users/{id:int}/posts\")\ndef user_posts(request):\n    \"\"\"Get user's posts with pagination.\"\"\"\n    user_id = request.path_params[\"id\"]          # From path\n    limit = request.query_params.get(\"limit\", \"10\")   # From query string\n    offset = request.query_params.get(\"offset\", \"0\")\n    return \"200 OK\", f\"&lt;p&gt;User {user_id}: Posts (limit={limit}, offset={offset})&lt;/p&gt;\"\n\n# Usage: /users/42/posts?limit=20&amp;offset=10\n</code></pre>"},{"location":"guide/routing/#multiple-query-parameter-values","title":"Multiple Query Parameter Values","text":"<p>Use <code>getlist()</code> for repeated query parameters:</p> <pre><code>@app.get(\"/search\")\ndef search(request):\n    \"\"\"Search with multiple tags.\"\"\"\n    tags = request.query_params.getlist(\"tag\")  # Get all tag values\n    query = request.query_params.get(\"q\", \"\")\n    return \"200 OK\", f\"&lt;p&gt;Search: {query}, Tags: {', '.join(tags)}&lt;/p&gt;\"\n\n# Usage: /search?q=python&amp;tag=web&amp;tag=framework&amp;tag=wsgi\n# request.query_params.getlist(\"tag\") = [\"web\", \"framework\", \"wsgi\"]\n</code></pre>"},{"location":"guide/routing/#using-router-class","title":"Using Router Class","text":"<p>For modular applications, use the <code>Router</code> class:</p> <pre><code>from wiverno.core.routing.router import Router\nfrom wiverno import Wiverno\n\n# Create a router for API endpoints\napi_router = Router()\n\n@api_router.get(\"/users\")\ndef api_users(request):\n    \"\"\"API: List users.\"\"\"\n    return \"200 OK\", '{\"users\": []}'\n\n@api_router.post(\"/users\")\ndef api_create_user(request):\n    \"\"\"API: Create user.\"\"\"\n    return \"201 CREATED\", '{\"id\": 1}'\n\n@api_router.get(\"/users/{id:int}\")\ndef api_user_detail(request):\n    \"\"\"API: Get user details.\"\"\"\n    user_id = request.path_params[\"id\"]  # int from path\n    return \"200 OK\", f'{{\"id\": {user_id}}}'\n\n# Create app and include router\napp = Wiverno()\napp.include_router(api_router, prefix=\"/api/v1\")\n\n# Routes become:\n# GET  /api/v1/users\n# POST /api/v1/users\n# GET  /api/v1/users/{id:int}\n</code></pre>"},{"location":"guide/routing/#router-with-prefix","title":"Router with Prefix","text":"<p>Organize routes by feature:</p> <pre><code># Blog routes\nblog_router = Router()\n\n@blog_router.get(\"/\")\ndef blog_index(request):\n    \"\"\"Blog homepage.\"\"\"\n    return \"200 OK\", \"&lt;h1&gt;Blog posts&lt;/h1&gt;\"\n\n@blog_router.get(\"/{slug}\")\ndef blog_post(request):\n    \"\"\"Single blog post.\"\"\"\n    slug = request.path_params[\"slug\"]\n    return \"200 OK\", f\"&lt;h1&gt;Post: {slug}&lt;/h1&gt;\"\n\n@blog_router.get(\"/{slug}/comments/{comment_id:int}\")\ndef blog_comment(request):\n    \"\"\"Single comment on a blog post.\"\"\"\n    slug = request.path_params[\"slug\"]\n    comment_id = request.path_params[\"comment_id\"]\n    return \"200 OK\", f\"&lt;p&gt;Comment {comment_id} on {slug}&lt;/p&gt;\"\n\n# Admin routes\nadmin_router = Router()\n\n@admin_router.get(\"/dashboard\")\ndef admin_dashboard(request):\n    \"\"\"Admin dashboard.\"\"\"\n    return \"200 OK\", \"&lt;h1&gt;Admin Dashboard&lt;/h1&gt;\"\n\n@admin_router.get(\"/users/{id:int}\")\ndef admin_user(request):\n    \"\"\"Admin user details.\"\"\"\n    user_id = request.path_params[\"id\"]\n    return \"200 OK\", f\"&lt;h1&gt;Admin: User {user_id}&lt;/h1&gt;\"\n\n# Combine in app\napp = Wiverno()\napp.include_router(blog_router, prefix=\"/blog\")\napp.include_router(admin_router, prefix=\"/admin\")\n\n# Routes:\n# /blog/ -&gt; blog_index\n# /blog/my-first-post -&gt; blog_post\n# /blog/my-first-post/comments/5 -&gt; blog_comment\n# /admin/dashboard -&gt; admin_dashboard\n# /admin/users/42 -&gt; admin_user\n</code></pre>"},{"location":"guide/routing/#path-normalization","title":"Path Normalization","text":"<p>Wiverno automatically normalizes paths:</p> <pre><code># These are all equivalent:\n@app.route(\"/users\")\n@app.route(\"/users/\")\n@app.route(\"users\")\n@app.route(\"users/\")\n\n# All match: /users (trailing slash removed)\n</code></pre> <p>Root path is special:</p> <pre><code>@app.route(\"/\")  # Homepage - keeps the single slash\n</code></pre>"},{"location":"guide/routing/#route-priority","title":"Route Priority","text":"<p>Routes are matched with intelligent priority:</p>"},{"location":"guide/routing/#static-routes-take-precedence","title":"Static Routes Take Precedence","text":"<p>Static routes (without parameters) are checked first with O(1) lookup:</p> <pre><code>@app.get(\"/users/admin\")  # Static route - checked first\ndef admin_users(request):\n    return \"200 OK\", \"&lt;h1&gt;Admin users&lt;/h1&gt;\"\n\n@app.get(\"/users/{id:int}\")  # Dynamic route - checked after static\ndef user_detail(request):\n    user_id = request.path_params[\"id\"]\n    return \"200 OK\", f\"&lt;h1&gt;User {user_id}&lt;/h1&gt;\"\n\n# /users/admin -&gt; admin_users (static route wins)\n# /users/123 -&gt; user_detail (dynamic route matches)\n</code></pre>"},{"location":"guide/routing/#dynamic-route-specificity","title":"Dynamic Route Specificity","text":"<p>Dynamic routes are sorted by specificity (more segments = higher priority):</p> <pre><code>@app.get(\"/posts/{slug}/comments/{id:int}\")  # 4 segments - higher priority\ndef post_comment(request):\n    slug = request.path_params[\"slug\"]\n    comment_id = request.path_params[\"id\"]\n    return \"200 OK\", f\"&lt;p&gt;Comment {comment_id} on {slug}&lt;/p&gt;\"\n\n@app.get(\"/posts/{slug}\")  # 2 segments - lower priority\ndef post_detail(request):\n    slug = request.path_params[\"slug\"]\n    return \"200 OK\", f\"&lt;h1&gt;Post: {slug}&lt;/h1&gt;\"\n\n# /posts/hello-world/comments/5 -&gt; post_comment (more specific)\n# /posts/hello-world -&gt; post_detail\n</code></pre>"},{"location":"guide/routing/#route-conflict-detection","title":"Route Conflict Detection","text":"<p>Registering the same path+method twice raises an error:</p> <pre><code>@app.get(\"/users\")\ndef users1(request):\n    return \"200 OK\", \"Users v1\"\n\n@app.get(\"/users\")  # \u274c Raises RouteConflictError\ndef users2(request):\n    return \"200 OK\", \"Users v2\"\n</code></pre>"},{"location":"guide/routing/#class-based-views-with-routes","title":"Class-Based Views with Routes","text":"<p>Use class-based views for better organization:</p> <pre><code>from wiverno.views.base_views import BaseView\nfrom wiverno import Wiverno\n\nclass UserView(BaseView):\n    \"\"\"Handle user operations.\"\"\"\n\n    def get(self, request):\n        \"\"\"Get user by ID.\"\"\"\n        user_id = request.path_params[\"id\"]\n        return \"200 OK\", f\"&lt;h1&gt;User {user_id}&lt;/h1&gt;\"\n\n    def put(self, request):\n        \"\"\"Update user.\"\"\"\n        user_id = request.path_params[\"id\"]\n        return \"200 OK\", f\"&lt;p&gt;User {user_id} updated&lt;/p&gt;\"\n\n    def delete(self, request):\n        \"\"\"Delete user.\"\"\"\n        return \"204 NO CONTENT\", \"\"\n\nclass UserListView(BaseView):\n    \"\"\"Handle user list operations.\"\"\"\n\n    def get(self, request):\n        \"\"\"List all users.\"\"\"\n        return \"200 OK\", \"&lt;ul&gt;&lt;li&gt;User 1&lt;/li&gt;&lt;li&gt;User 2&lt;/li&gt;&lt;/ul&gt;\"\n\n    def post(self, request):\n        \"\"\"Create new user.\"\"\"\n        return \"201 CREATED\", \"&lt;p&gt;User created&lt;/p&gt;\"\n\n# Register class-based views\napp = Wiverno()\napp.route(\"/users\")(UserListView())\napp.route(\"/users/{id:int}\")(UserView())\n</code></pre>"},{"location":"guide/routing/#error-handling","title":"Error Handling","text":""},{"location":"guide/routing/#404-not-found","title":"404 Not Found","text":"<p>Automatically handled when no route matches:</p> <pre><code># Request to /nonexistent returns 404\n</code></pre>"},{"location":"guide/routing/#405-method-not-allowed","title":"405 Method Not Allowed","text":"<p>When route exists but method is not allowed:</p> <pre><code>@app.get(\"/users\")\ndef users(request):\n    return \"200 OK\", \"Users\"\n\n# POST /users returns 405\n</code></pre>"},{"location":"guide/routing/#custom-error-handlers","title":"Custom Error Handlers","text":"<p>Provide custom error pages:</p> <pre><code>class Custom404:\n    def __call__(self, request):\n        \"\"\"Custom 404 handler.\"\"\"\n        return \"404 NOT FOUND\", \"&lt;h1&gt;Page Not Found&lt;/h1&gt;\"\n\nclass Custom405:\n    def __call__(self, request):\n        \"\"\"Custom 405 handler.\"\"\"\n        method = request.method\n        return \"405 METHOD NOT ALLOWED\", f\"&lt;h1&gt;Method {method} Not Allowed&lt;/h1&gt;\"\n\nclass Custom500:\n    def __call__(self, request, error_traceback=None):\n        \"\"\"Custom 500 handler.\"\"\"\n        return \"500 INTERNAL SERVER ERROR\", \"&lt;h1&gt;Server Error&lt;/h1&gt;\"\n\napp = Wiverno(\n    page_404=Custom404(),\n    page_405=Custom405(),\n    page_500=Custom500()\n)\n</code></pre>"},{"location":"guide/routing/#best-practices","title":"Best Practices","text":""},{"location":"guide/routing/#1-organize-by-feature","title":"1. Organize by Feature","text":"<pre><code># users.py\nusers_router = Router()\n\n@users_router.get(\"/\")\ndef list_users(request):\n    pass\n\n@users_router.post(\"/\")\ndef create_user(request):\n    pass\n\n# posts.py\nposts_router = Router()\n\n@posts_router.get(\"/\")\ndef list_posts(request):\n    pass\n\n# main.py\napp = Wiverno()\napp.include_router(users_router, prefix=\"/users\")\napp.include_router(posts_router, prefix=\"/posts\")\n</code></pre>"},{"location":"guide/routing/#2-use-descriptive-names","title":"2. Use Descriptive Names","text":"<pre><code># Good\n@app.get(\"/users/{user_id:int}/posts/{post_id:int}\")\ndef get_user_post(request):\n    user_id = request.path_params[\"user_id\"]\n    post_id = request.path_params[\"post_id\"]\n    return \"200 OK\", f\"&lt;h1&gt;User {user_id}, Post {post_id}&lt;/h1&gt;\"\n\n# Bad\n@app.get(\"/users/{user_id:int}/posts/{post_id:int}\")\ndef handler(request):\n    pass\n</code></pre>"},{"location":"guide/routing/#3-restful-design","title":"3. RESTful Design","text":"<pre><code># Resources: /users\n@app.get(\"/users\")               # List all users\n@app.post(\"/users\")              # Create user\n@app.get(\"/users/{id:int}\")      # Get single user\n@app.put(\"/users/{id:int}\")      # Update user\n@app.delete(\"/users/{id:int}\")   # Delete user\n\n# Nested resources: /users/{user_id}/posts\n@app.get(\"/users/{user_id:int}/posts\")              # List user's posts\n@app.post(\"/users/{user_id:int}/posts\")             # Create post for user\n@app.get(\"/users/{user_id:int}/posts/{post_id:int}\")# Get specific post\n@app.put(\"/users/{user_id:int}/posts/{post_id:int}\")# Update post\n@app.delete(\"/users/{user_id:int}/posts/{post_id:int}\")# Delete post\n</code></pre>"},{"location":"guide/routing/#4-version-your-api","title":"4. Version Your API","text":"<pre><code>api_v1 = Router()\n# ... define v1 routes\n\napi_v2 = Router()\n# ... define v2 routes\n\napp.include_router(api_v1, prefix=\"/api/v1\")\napp.include_router(api_v2, prefix=\"/api/v2\")\n</code></pre>"},{"location":"guide/routing/#next-steps","title":"Next Steps","text":"<ul> <li>Requests - Handle request data</li> <li>Class-Based Views - Class-based views</li> <li>API Reference - Complete API reference</li> </ul>"}]}